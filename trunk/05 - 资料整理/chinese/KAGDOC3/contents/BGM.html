<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from BGM.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>BGM 的使用</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id3" name="id3">BGM 使用前预备</a>
</h1><div class="para"><div>
　KAG 中、能够播放作为BGM 使用的 Wave系 ( 无压缩的 Wave 或 Ogg Vorbis 等 ) 与 MIDI 序列，及 CD-XA 的音轨。<br />
　请先查看 <a target="main" class="jump" href="Prepare.html">正式制作前的准备</a> ，做好准备。<br />
<br />
　在本教程中 ( 整个tutorial中都将按照以下设定 ) 使用 CD-DA 作为 BGM 的方法是，在Config.tjs 内，将 <code class="inlinecode">type</code> 属性设为 <code class="inlinecode">&quot;CDDA&quot;</code> 、<code class="inlinecode">doubleBuffered=false</code> 。<br />
<br />
　那么、<code class="inlinecode">cdVolume</code> 不具体指定也可以吗？是 CD-DA 而不是 CD-XA 也没关系吗？实际上，本范例中已经指定了 CD-ROM 所在的光驱，因此，不需要指定 <code class="inlinecode">cdVolume</code> ，也不需要附有光驱搜索必要情报的 CD-XA 。<br />
<br />
　那么、请将适当的音乐 CD 插入 CD-ROM 驱中。<br />
</div></div>
<h1><a id="id4" name="id4">总之让音乐响起来吧</a>
</h1><div class="para"><div>
　播放的时候，需要使用到 playbgm 指令。此外、播放停止则是使用 stopbgm 指令。于是・・・<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[playbgm&nbsp;storage=&quot;e:3&quot;]</em><br />
播放中・・・停止音乐请点击鼠标。[l]<br />
<em>[stopbgm]</em><br />
</code>
<br />

　那么，在这里 playbgm 的属性 storage 设定成了 <code class="inlinecode">e:3</code> 。<code class="inlinecode">e:</code> 是想要播放的 CD-ROM 所在的 CD-ROM 驱，请根据你的电脑情况做相应改动。接着的数字 3 代表指定播放的音轨。<br />
<br />
　这里是使用教程，因此直接指定了 <code class="inlinecode">e:</code> 作为播放驱，实际上，通常 KAG 将按照 Config.tjs 中 <code class="inlinecode">cdVolume</code> 所指定的卷标，播放相应卷标的 CD 。因此，假如不指定 <code class="inlinecode">e:</code> 之类的具体光驱号，而只使用数字的话，KAG 将会在 <code class="inlinecode">cdVolume</code> 指定卷标的 CD-ROM 中寻找对应的音轨。<br />
<br />
　此外，不是 CD-DA 的情况下，例如说是 MIDI 序列音乐格式作为 BGM 的场合，storage 属性中，只指定文件名也就OK了。（不需要指定扩展名。）<br />
</div></div>
<h1><a id="id5" name="id5">渐入・渐出</a>
</h1><div class="para"><div>
　要进行音乐的渐入・渐出，需要使用到 fadeinbgm 和 fadeoutbgm 指令。<br />
　这种情况下，必须要指定这两个指令的 time 属性，也就是需要设定渐入・渐出效果所花的时间。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[fadeinbgm&nbsp;storage=&quot;e:3&quot;&nbsp;time=5000]</em><br />
播放中・・・停止音乐请点击鼠标。。[l]<br />
<em>[fadeoutbgm&nbsp;time=5000]</em><br />
</code>
<br />

　再者，这样不会等到渐入·渐出结束就会继续执行下一指令，假如想等待效果结束再继续执行，就必须使用等待结束指令 [wb] 。<br />
</div></div>
<h1><a id="id6" name="id6">其他 BGM 相关指令</a>
</h1><div class="para"><div>
　BGM 的过渡切换效果还有 xchgbgm 指令。Wave 系和 MIDI 系作为 BGM 的情况下，进行音乐交叉播放（cross fade）也是可能的 (请参考 Config.tjs 内的具体设定)。<br />
<br />
　Wave 系，如果使用 OggVorbis 或者 TCWF 格式，即需要 Micsoroft ADPCM 的场合，请注意播放前要加载插件 ( 请参考 <a target="main" class="jump" href="Prepare.html">正式制作前的准备</a> 部分的说明 )。这一点，进行音效播放时也是相同的。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　MIDI 系作为 BGM 并想要进行交叉播放的情况下，需要「专为cross fade用」的数据 ( 例如说设定同时播放的２首曲目不使用同一通道等等)。但是，这样不太实际。<br />
</div><br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
