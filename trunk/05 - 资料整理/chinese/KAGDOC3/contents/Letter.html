<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from Letter.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>显示文字相关</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id94" name="id94">文字显示方式</a>
</h1><div class="para"><div>
　这个世界上的文字类冒险游戏，显示文字方式可以大致分为在对话框内显示和电子小说式全画面窗口（Visual-Novel Type）两种。只是文字显示位置的不同，并没有特别大的差异。以上两种显示方式 KAG 均支持。<br />
<br /><div class="descimg"><img src="../j/contents/UsingVN.jpg" alt="../j/contents/UsingVN.jpg" /><img src="../j/contents/UsingFrame.jpg" alt="../j/contents/UsingFrame.jpg" /><br />两种文字显示方式</div><br />　此外，也能做到竖行显示。<br />
<br /><div class="descimg"><img src="../j/contents/Vertical.jpg" alt="../j/contents/Vertical.jpg" /><br />竖行显示</div><br />　KAG 默认的设定使用的是横行显示和电子小说式。详细的说明请参考 Config.tjs 。本教程将以使用电子小说式为前提，继续说明。<br />
</div></div>
<h1><a id="id95" name="id95">总之先试试显示点啥出来</a>
</h1><div class="para"><div>
　那么，先试试显示点文字吧。scenario 文件夹中，有一个<a id="id96" name="id96" class="targanchor"><dfn>first.ks</dfn></a> 文件。这个文件是 KAG 最先执行的剧本档。<br />
　默认状况下，first.ks 内已经存在以下文字。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
你好。<br />
</code>
<br />

　各位看到这么多乱七八糟的代码大概会觉得很麻烦吧，不过，请暂时只先关注「你好。」这一行。请在文本编辑器里，把「你好。」替换成其他的什么文字。比如说「晚上好。」，随便什么都行。<br />
　接着，请运行吉里吉里，在[选择文件夹/文件]的窗口中，选择你的工程文件夹，然后按下 [OK] 按钮。<em>请选择整个工程文件夹，不要选择 first.ks 。</em><br />
　<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　拖鞋译注：<br />
使用 KAGeXpress 创建工程的情况（或者工程文件夹名为&quot;<code class="inlinecode">Data</code>&quot; 的情况），直接双击与&quot;<code class="inlinecode">Data</code>&quot; 同一目录下的<code class="inlinecode">krkr.eXe</code>即可。<br />
　</div><br />
<br />
<br /><div class="descimg"><img src="../j/contents/kon-banwa.png" alt="../j/contents/kon-banwa.png" /><br />「晚上好。」</div><br />　于是，全黑的画面上显示出了「晚上好。」的字样。如何显示背景，将在<span class="comlink"> ( → <a target="main" class="jump" href="DispBase.html">背景的显示</a> ) </span>部分说明。<br />
　总之，请把你想显示的文字替换掉「晚上好。」写进 first.ks 里，就能像这样显示文字了。<br />
</div></div>
<h1><a id="id97" name="id97">等待点击（换行）的使用</a>
</h1><div class="para"><div>
　这次，试着在行尾加入等待点击指令吧。加入行尾等待点击代码的方法是，把[<a id="id98" name="id98" class="targanchor"><dfn>l</dfn></a>] 放在相应的位置。( [l] 是半角，小写的 L 来着 )<br />
　接着，为了点击后能换到下一行继续显示文字，请在[l]后面加入 [<a id="id99" name="id99" class="targanchor"><dfn>r</dfn></a>] 。<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
你好。[l][r]<br />
贵安。[l][r]<br />
</code>
<br />

　假如刚刚的程序还启动着，请先关掉，然后重新执行这个工程。<br />
<br />
<br /><div class="descimg"><img src="../j/contents/gokigen.png" alt="../j/contents/gokigen.png" /><br />等待玩家点击</div><br /><br />
　「你好。」的之后出现了等待点击图标，点下鼠标之后，换了一行显示出「贵安。」。<br />
</div></div>
<h1><a id="id100" name="id100">等待点击（换页）的使用</a>
</h1><div class="para"><div>
　要让之前显示的文字全部消除，重新从对话框左上角开始显示新的文字、请在新的一行内写入 [<a id="id101" name="id101" class="targanchor"><dfn>cm</dfn></a>] 。( [cm] 为半角 )<br />
　但是，[cm]之前不使用等待点击指令的话，会不等待玩家确认就直接清除文字。因此，在[cm] 之前一般要加入 [<a id="id102" name="id102" class="targanchor"><dfn>p</dfn></a>] 指令。请看以下的例子。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
你好。[l][r]<br />
贵安。[l][r]<br />
试试换页吧。[p]<br />
[cm]<br />
换了一页啦。<br />
</code>
<br />

　那么，现在试试运行吧。在[p] 的位置出现了换页等待标记，点下鼠标后，之前显示的文字清除，再次从左上角显示「换了一页啦。」。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　清除消息层上的文字相关指令有 [er] [ct] [cm] 三个。指令间有细微的差别，相关内容在存储与读取的说明档内有<span class="comlink"> ( → <a target="main" class="jump" href="SaveLoad.html">存储・读取</a> ) </span>详细说明。假如没有什么特别的需求，可以一律使用 [cm] 。<br />
</div><br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
拖鞋译注：<br />
建议想制作较复杂游戏的初学者养成使用 [er]（清除当前消息层）而不是 [cm]（清除全部文字层）来清除文字的习惯。<br />
</div><br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　KAG 3 之前的教学文档是使用[ct]代替[cm] ，相比起[ct]，[cm]在清除全部文字层之后，自动将当前操作层改为 message0 ，可能比 [ct] 使用起来更方便。<br />
　但是，请记得要在可以存档的标签之后的下一行加入[ct]或者[cm]。（拖鞋译注：这行我也不明白……）<br />
</div><br />
<br />
　KAG 中，所有的文字都在名为「<a id="id103" name="id103" class="targanchor"><dfn>消息层</dfn></a>」的层上进行描绘。KAG 默认设定状态下，还有另一个消息层（message1），两个消息层一起使用的话，就可以表现出双人对话式的效果了。具体请参考 <a id="id104" name="id104" class="targanchor"><dfn>current</dfn></a> 指令的说明。<br />
</div></div>
<h1><a id="id105" name="id105">指令是什么</a>
</h1><div class="para"><div>
　总之，到现在为止，凡是出现用[]（半角方括号）括起来的东西就是指令。<br />
　[ ] 里面包的东西叫做<em>指令（TAG）</em>，是用来控制 KAG 系统的东西。<br />
　比如说，first.ks 的第一行，写着<code class="inlinecode">[wait time=200]</code> 这样的东西。这里的 <code class="inlinecode">wait</code> 就是 <em><a id="id106" name="id106" class="targanchor"><dfn>指令名</dfn></a></em>了，而 <code class="inlinecode">time=200</code> 则是这个指令所伴随的 <em><a id="id107" name="id107" class="targanchor"><dfn>属性</dfn></a></em>。属性则是由 <code class="inlinecode">time</code> 这个 <em>属性名</em> ，和 <code class="inlinecode">200</code> 这个 <em>属性值</em> 组成的。<br />
　像这样，首先是 [ 后面跟着「指令名」，空一个空格之后写入 「属性名=属性值」。假如有很多的「属性名=属性值」可以继续写，之间均用空格隔开。最后则用 ] 来结束一个指令。<br />
　之后，本教程中将出现更多的「指令」，一开始学写的时候，照葫芦画瓢就行了，我想不久就能找到感觉了。<br />
　「指令」是非常重要的。KAG 中，除了显示文字以外的所有命令都是通过「指令」下达的。「指令」也有很多，具体的请参考这里<a target="main" class="jump" href="Tags.html">Reference</a>的详细说明。<br />
<br />
　假如使用<a id="id108" name="id108" class="targanchor"><dfn>宏（Macro）</dfn></a><span class="comlink"> ( → <a target="main" class="jump" href="Macro.html">宏(Macro)的使用</a> ) </span>的话，可以把现有的「指令」组合起来，制作出自定义的新「指令」。将重复使用的多个「指令」简化为一个。制作游戏系统时，预先自己定义一套「宏指令」，将使游戏制作变得更方便。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
拖鞋广告：<br />
KAGeXpress提供的“简化指令”即是使用宏制作的，自定义宏的方法，请参考 system 文件夹下的 func.ks 档。试着制作个性化的指令吧。(^^)<br />
</div><br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　KAG 3 以下的版本，行尾用 \ (斜杠) 来进行换行。KAG 3 之后的版本，使用 [r] 指令来换行。假如希望使用和 KAG 3 之前版本一样的换行方式，请在 Config.tjs 里把 global.ignoreCR 的值设定为 false 。<br />
</div><br />
<br />
</div></div>
<h1><a id="id109" name="id109">命令行</a>
</h1><div class="para"><div>
　在行头写入 @ (半角＠) ，KAG 将把这一行识别为「命令行」。<br />
　@ 的后面，和 [  ] 括起来的部分一样书写，也就是，在指令之后，写上属性（如果这个指令有属性的话……）。请注意使用@的情况，一行只能写一个指令。<br />
　虽然书写的方式不同，但执行的效果是一样的。<br />
<br />
　例如说，下面的２行意思是一样的。<br />
<br />

<br />
<code class="bq">[wc&nbsp;time=20]<br />
@wc&nbsp;time=20<br />
</code>
<br />

<br />
　还是使用「等待点击（换页）的使用」为例，将代码替换成以下一段。<br />
<br />

<br />
<code class="bq">@wait&nbsp;time=200<br />
*start|スタート<br />
@cm<br />
你好。[l][r]<br />
贵安。[l][r]<br />
试试换页吧。[p]<br />
@cm<br />
换了一页啦。<br />
</code>
<br />

</div></div>
<h1><a id="id110" name="id110">剧本中的特殊符号・特殊行</a>
</h1><div class="para"><div>
　剧本档实际上只是普通的文本文档，可以随便的写入任何东西。但是在 KAG 中，以下的符号是有特殊作用的，想使用的时候，请务必注意。<br />
<br />
<dl>
<dt>　　<a id="id111" name="id111" class="targanchor"><dfn>[</dfn></a>　　( 半角左方括号 )</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　标记一个指令开始的符号(^^;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;　如果无论如何都想在对话中使用这个符号的话，<code class="inlinecode"><em>[[</em></code> 像这样，连续的写上两个就行。</dd>
<dt>　　<a id="id112" name="id112" class="targanchor"><dfn>;</dfn></a>　　( 半角分号 )</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　将这个符号使用在<em>在一行的开头</em>的话，接着在这行里无论写有什么都会被无视。也就是说可以在这个符号的后面写入“注释”。</dd>
<dt>　　<a id="id113" name="id113" class="targanchor"><dfn>*</dfn></a>　　( 半角星号 )</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>在一行的开头</em>使用的话，就是加入了一个“标签”。除了可以作为选择支跳转到的目标以外，也用于标记存档点 (这个以后再说)。</dd>
<dt>　　<a id="id114" name="id114" class="targanchor"><dfn>@</dfn></a>　　( 半角的at符号 )</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>在一行的开头</em>使用的话，表示这一行是命令行。</dd>
<dt>　　<a id="id115" name="id115" class="targanchor"><dfn>半角空格</dfn></a></dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　使用 [] 式的指令，&quot;[&quot; 的前面如果有半角空格，也会被当作不存在(被无视)。这么使用的话，剧本档里就能进行“缩进”排版了。请注意被忽略的只是半角空格，全角空格还是会被当作对话显示的。</dd></dl></div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
