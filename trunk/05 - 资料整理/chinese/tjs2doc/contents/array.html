<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from array.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Array 类</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id3" name="id3">Array 类</a>
</h1><div class="para"><div>
　Array 类是处理<a id="id4" name="id4" class="targanchor"><dfn>数组</dfn></a>的类型。<br />
<br />
　可以通过创建这个类的实例，并在间接成员选择运算符（[ ]）中传递指定的索引的方式将这个类作为数组使用。索引为整数，0表示数组中的第一个元素，1表示第二个对象，依此类推。如果指定负数作为索引，则将被当作从数组的最后开始指定元素。 (-1 表示最后的对象)。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a&nbsp;=&nbsp;new&nbsp;Array();<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;100;i++)&nbsp;a[i]=i;<br />
</code>
<br />

<br />
　不必要对数组的大小做出定义。Array 类将自动扩展到用户使用的索引的大小，并将没有被赋值的元素初始化为 void 。<br />
<br />
　此外，Array 类拥有 count 属性，该属性表示数组的大小。通过对 count 属性赋值，也可以改变数组的大小。<br />
</div></div>

<h1><a id="id5" name="id5">表达式声明数组</a>
</h1><div class="para"><div>
　<code class="inlinecode">使用 <a id="id6" name="id6" class="targanchor"><dfn>[ ]</dfn></a></code> ，可以在表达式中现场记述 <code class="inlinecode">Array</code> 类型的对象。<code class="inlinecode">[ ]</code> 中应该按顺序列举作为数组初始元素的表达式，元素之间用逗号分割。比如说，如果执行<br />
<code class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;var ar = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</code>　这样一个表达式，则变量 <code class="inlinecode">ar</code> 将指向一个包含 <code class="inlinecode">&quot;a&quot; &quot;b&quot; &quot;c&quot;</code> 这几个元素的 <code class="inlinecode">Array</code> 类型对象。<br />
</div></div>
<h1><a id="id7" name="id7">count</a>
</h1><div class="para"><div>
　count 属性表示数组的大小。<br />
</div></div>
<h1><a id="id8" name="id8">load</a>
</h1><div class="para"><div>
　load 方法，可以从文件中读取数据。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;load(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　本方法将从文本文件读取数组数据，将文本文件中的文本按行作为元素放入数组，最终count属性将和文件的行数相等。<br />
　模式参数可以用一个字符串指定读取文件时的模式。模式的含义将随着TJS运行的环境有所不同。如果在 &quot;o&quot; 之后写入一个十进制偏移量，则将从与这个数值相等个字节后的位置开始读取。<br />
　随着 TJS 运行环境的不同，可能存在本方法和 save 方法、 saveStruct 方法无法使用的情况。<br />
　load 方法将返回这个 Array 类对象自身。<br />
</div></div>
<h1><a id="id9" name="id9">save</a>
</h1><div class="para"><div>
　save 方法可以向文件写入数据。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;save(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　本方法将数组写入文件。本方法基本上是一行一个元素顺序记录各个元素数据，但遇到对象和类、函数等类型的数据，文件中对应的位置将是空行。<br />
　模式参数可以用一个字符串指定写入文件时的模式。模式的含义将随着TJS运行的环境有所不同，对于吉里吉里来说，指定 &quot;c&quot; 则将对文件进行简单的加密（ 可以使用 load 方法读取 ），指定 &quot;z&quot; 则将把文件压缩保存（ 无法与 &quot;c&quot; 共用，该模式保存的数据也可以直接用 load 方法读取 ）。如果在 &quot;o&quot; 之后写入一个十进制偏移量，则将从与这个数值相等个字节后的位置开始写入。<br />
　save 方法将返回这个 Array 类对象自身。<br />
</div></div>
<h1><a id="id10" name="id10">split</a>
</h1><div class="para"><div>
　split 方法可以对字符串进行分割。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;split(&lt;模式/分隔符集合&gt;,&nbsp;&lt;字符串&gt;,&nbsp;&lt;(保留)&gt;,&nbsp;&lt;是否忽略空的元素=false&gt;)</code>
<br />

　初始化数组，并用模式字符串或分隔符分割字符串，将结果复制到数组中。<br />
　需要在第一个参数中指定模式或者分隔符集合。<br />
　需要使用模式匹配时，请传入相关的正则表达式对象。<br />
　需要使用分隔符集合时，请传入需要被识别为分隔符的字符。如果传入字符串，则字符串中的各个字符都将被做为分隔符处理。<br />
　第三个参数为了将来的版本暂时保留。<br />
　参数“是否忽略空的元素”，在不希望把空的元素（ 比如说指定逗号为分隔符时的 ,,,,,,, 等 ）复制到数组时可以被指定为true。<br />
　请注意参数的顺序。<br />
</div></div>
<h1><a id="id11" name="id11">join</a>
</h1><div class="para"><div>
　join 方法可以把数组合并为一个字符串。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;join(&lt;分隔符&gt;,&nbsp;&lt;(保留)&gt;,&nbsp;&lt;是否忽略空的元素=false&gt;)</code>
<br />

　将数组中的各个元素结合，各个元素之间用指定的分隔符分割，并返回合并后的字符串。<br />
　参数“是否忽略空的元素”为 true 时，数组元素的void将被忽略。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ar&nbsp;=&nbsp;[&nbsp;&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;void,&nbsp;&quot;d&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s1&nbsp;=&nbsp;ar.join(&quot;,&quot;);&nbsp;<span class="comment">//&nbsp;将&nbsp;s1&nbsp;赋值为&nbsp;&quot;a,b,,d&quot;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s2&nbsp;=&nbsp;ar.join(&quot;,&quot;,,true);&nbsp;<span class="comment">//&nbsp;将&nbsp;s2&nbsp;赋值为&nbsp;&quot;a,b,d&quot;</span><br />
</code>
<br />

</div></div>
<h1><a id="id12" name="id12">reverse</a>
</h1><div class="para"><div>
　reverse 方法可以把数组的元素按照顺序反过来排列。<br />

<br />
<code class="bq">&nbsp;语法:&nbsp;reverse()<br />
</code>
<br />

</div></div>
<h1><a id="id13" name="id13">sort</a>
</h1><div class="para"><div>
　sort 方法将对数组进行排序。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;sort(&lt;排序顺序='+'&gt;,&nbsp;&lt;是否进行稳定排序=false&gt;)</code>
<br />

　排序顺序需要时以下的字符串中的一个。升序就是将数组对象从小到大重新排列，降序则相反。省略排序顺序参数则将默认按照 &quot;+&quot; 排序。<br />

<br />
<code class="bq">&quot;+&quot;&nbsp;&nbsp;:&nbsp;升序排列&nbsp;(利用普通的&nbsp;&lt;&nbsp;运算符进行比较)<br />
&quot;-&quot;&nbsp;&nbsp;:&nbsp;降序排列<br />
&quot;0&quot;&nbsp;&nbsp;:&nbsp;按照数值顺序升序排列&nbsp;(&nbsp;10,2,1&nbsp;将被排序为&nbsp;1,2,10&nbsp;)<br />
&quot;9&quot;&nbsp;&nbsp;:&nbsp;按照数值顺序降序排列<br />
&quot;a&quot;&nbsp;&nbsp;:&nbsp;按照字符串顺序升序排列&nbsp;(&nbsp;&quot;a&quot;,&quot;c&quot;,&quot;b&quot;&nbsp;将被排序为&nbsp;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;&nbsp;)<br />
&quot;z&quot;&nbsp;&nbsp;:&nbsp;按照字符串顺序降序排列<br />
</code>
<br />

　可以指定函数代替字符串作为排序顺序的依据。函数需要拥有两个参数，并在当第一个参数应排在第二个参数之前时返回 true 。(请注意，TJS 的 sort 与 JavaScript 的 sort 方法，作为排序顺序传递的函数所需要的参数以及返回值不同 )。<br />
<br />
　第二个参数将需要指定是否进行稳定排序。如果省略此参数则将默认为 false ，也就是进行不稳定排序。所谓的“稳定排序”，就是指相等的数组元素的顺序在排序后也相同的排序方法。对于不稳定排序，则不保证相等的元素在排序后和原先的顺序相同。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;0,&nbsp;1,&nbsp;2,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;4,&nbsp;6,&nbsp;2&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array&nbsp;的值为&nbsp;[0,&nbsp;1,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6,&nbsp;10,&nbsp;12,&nbsp;14]&nbsp;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('-');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array&nbsp;的值为&nbsp;[14,&nbsp;12,&nbsp;10,&nbsp;6,&nbsp;4,&nbsp;2,&nbsp;2,&nbsp;1,&nbsp;0]&nbsp;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('a');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array&nbsp;的值为&nbsp;[0,&nbsp;1,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6]&nbsp;</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;hoge&quot;,&nbsp;&quot;foo&quot;&nbsp;,&nbsp;&quot;bar&quot;,&nbsp;&quot;baz&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array&nbsp;的值为&nbsp;[&quot;bar&quot;,&nbsp;&quot;baz&quot;,&nbsp;&quot;foo&quot;,&nbsp;&quot;hoge&quot;]&nbsp;</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a&lt;&nbsp;b;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;以上表达式和指定&nbsp;'+'&nbsp;相同</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;按照字符串的长短顺序，短的在前。</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(由于是不稳定排序，长度相同的元素例如&nbsp;&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;&nbsp;在排序后不保证还是&nbsp;&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;&nbsp;的顺序)</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;},&nbsp;true&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;按照字符串的长短顺序，短的在前。</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(稳定排序，长度相同的元素例如&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;&nbsp;在排序后也保持相同的顺序)</span><br />
</code>
<br />

</div></div>
<h1><a id="id14" name="id14">saveStruct</a>
</h1><div class="para"><div>
　saveStruct 可以将数组结构化后的结果输出到文件。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;save(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　saveStruct 方法用可复原的方式将元素的数据和状态输出到文件。<br />
　被输出的元素包括字符串、实数、字节串、整数类型。此外，元素中包含 Array 类或者 Dictionary 类的时候，对象的内容也将被输出到文件。此外的元素将被作为 void 对象输出。<br />
　例如：<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;([&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;[4,&nbsp;5],&nbsp;%[&nbsp;a&nbsp;:&nbsp;1,&nbsp;b&nbsp;:&nbsp;2&nbsp;],&nbsp;&quot;字符串&quot;&nbsp;]).saveStruct(&quot;out.txt&quot;);<br />
</code>
<br />

　则将被存为内容类似于
<br />
<code class="bq">[<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;3,<br />
&nbsp;&nbsp;&nbsp;&nbsp;[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;4,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;5<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;%[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;a&quot;&nbsp;=&gt;&nbsp;int&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;b&quot;&nbsp;=&gt;&nbsp;int&nbsp;2<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&quot;字符串&quot;<br />
]<br />
</code>
<br />

　这样的文件。这样只需要把这个文件整体作为一个表达式求值，就可以恢复到与保存时相同的结构。<br />
　saveStruct 方法返回 Array 类对象自身。<br />
</div></div>
<h1><a id="id15" name="id15">assign</a>
</h1><div class="para"><div>
　assign 方法可以对数组进行复制操作。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;assign(&lt;源数组&gt;)<br />
</code>
<br />

　把参数指定的其他数组的内容，原原本本的复制到调用该方法的数组中。<br />
<br />
　将字典(Dictionary类型的对象)作为复制的源数组时，该字典中的各个成员将按照成对的名称、值的顺序交错地放入数组中。字典成员在数组中的顺序不定。<br />
</div></div>
<h1><a id="id16" name="id16">assignStruct</a>
</h1><div class="para"><div>
　assignStruct 方法可以对数组连同结构进行复制操作。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;assignStruct(&lt;源数组&gt;)<br />
</code>
<br />

　把参数指定的其他数组的内容，原原本本的复制到调用该方法的数组中。<br />
　和 assign 方法不同，如果成员中存在数组或者字典数组的时候，将用递归的方法将其内容也复制到执行操作的数组中
 ( assign 方法则只会复制对成员对象的引用 )。<br />
</div></div>
<h1><a id="id17" name="id17">clear</a>
</h1><div class="para"><div>
　clear 方法可以将数组的所有元素删除。<br />
</div></div>
<h1><a id="id18" name="id18">erase</a>
</h1><div class="para"><div>
　erase 方法可以删除用户给出的索引所指定的元素。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;erase(&lt;索引&gt;)<br />
</code>
<br />

　本方法将删除索引所指定位置的对象。该索引之后的所有元素将会向前移动一个位置，保持数组紧凑。当索引超过数组大小的时候将发生例外。<br />
　（注：本方法不会对元素指向的对象本身进行删除操作，如果环境中还存在其他对这个对象的引用则这个对象将被保留。）<br />
</div></div>
<h1><a id="id19" name="id19">remove</a>
</h1><div class="para"><div>
　remove 方法将会删除和指定的值相等的元素。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;remove(&lt;值&gt;,&nbsp;&lt;是否全部删除=true&gt;)<br />
</code>
<br />

　将指定的值与数组中的各个元素进行类型识别比较 ( <a id="id20" name="id20" class="targanchor"><dfn>===</dfn></a> 运算符的操作 )，并删除与指定值一致的元素。<br />
　当参数“是否全部删除”为 false 时，则只删除第一个匹配的元素。否则所有满足条件的元素都将被删除。<br />
　（注：本方法不会对元素指向的对象本身进行删除操作，如果环境中还存在其他对这个对象的引用则这个对象将被保留。）<br />
</div></div>
<h1><a id="id21" name="id21">insert</a>
</h1><div class="para"><div>
　insert 方法将把指定的值插入到指定的位置上。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;insert(&lt;位置&gt;,&nbsp;&lt;值&gt;)<br />
</code>
<br />

　在“位置”参数所指向的索引位置上，插入参数“值”所给定的元素。该位置之后的元素都将向后移动一个位置。<br />
</div></div>
<h1><a id="id22" name="id22">add</a>
</h1><div class="para"><div>
　add 方法将把指定的值追加到数组的最后。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;add(&lt;值&gt;)<br />
</code>
<br />

　本方法在数组的最后追加指定的值，并返回这个值被追加的位置。<br />
</div></div>
<h1><a id="id23" name="id23">find</a>
</h1><div class="para"><div>
　find 方法将返回指定的值最初出现位置的索引。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;find(&lt;值&gt;,&nbsp;&lt;搜索开始位置=0&gt;)<br />
</code>
<br />

　从参数“搜索开始位置”的位置开始搜索指定的值，并返回最初找到这个值的位置的索引。如果没有找到指定值的时候将返回 -1 。<br />
　比较操作使用类型识别比较 ( === 运算符的操作 ) 。<br />
</div></div>


	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
