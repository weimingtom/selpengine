<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from variable.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>变量</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id432" name="id432">变量</a>
</h1><div class="para"><div>
　TJS2 的变量是由 <a id="id433" name="id433" class="targanchor"><dfn>var</dfn></a> 关键字指定的。TJS2 中，变量如果不进行实现声明则无法使用。<br />
　var 关键字的使用方法如下所示。<br />

<br />
<code class="bq">　var&nbsp;变量名;<br />
</code>
<br />

　可以通过 <a id="id434" name="id434" class="targanchor"><dfn>,</dfn></a> (逗号) 分隔在同一个语句中指定多个变量名称。当变量需要指定初始值的时候，可以通过类似<br />

<br />
<code class="bq">　var&nbsp;变量名&nbsp;=&nbsp;初期値;<br />
</code>
<br />

　这样的方法给变量指定初始值。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;variable=0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;var2=variable+2;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;var3=&quot;this&nbsp;is&nbsp;var3.&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;var1,var2,var3;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a=0,b=1,c=3;<br />
</code>
<br />

<br />
　在声明变量时不需要指定变量的类型，变量将自动被更改为赋值对象的类型。此外，在计算的过程以及不同的上下文中，变量的类型将会被自动转换。<br />
</div></div>
<h1><a id="id435" name="id435">变量名</a>
</h1><div class="para"><div>
　所有有效的标示符都可以作为变量名使用。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ampan;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;123a;&nbsp;&nbsp;<span class="comment">//&nbsp;变量名不能使用数字开头，该句非法</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;function;&nbsp;<span class="comment">//&nbsp;function&nbsp;为保留字，该句非法</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;function1;&nbsp;<span class="comment">//&nbsp;虽然包含保留字，但是并非保留字，所以该句合法</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;变量その一;&nbsp;<span class="comment">//&nbsp;全角文字，包括汉字和全角符号等都可以使用</span><br />
</code>
<br />

</div></div>
<h1><a id="id436" name="id436">变量的２重声明</a>
</h1><div class="para"><div>
　对相同名称的变量进行两次以上的声明并不会出错。只是，如果第二次以后的声明中指定了初始值，则这个初始值将被赋给变量。如果第二次以后的声明没有指定初始值，则变量的值将是 void 。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a=0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a;&nbsp;<span class="comment">//&nbsp;第二次的声明(不会出错，但是&nbsp;a&nbsp;的值会变成&nbsp;void)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a=-1;&nbsp;<span class="comment">//&nbsp;第三次的声明&nbsp;(不会出错，但是&nbsp;a&nbsp;的值会被赋为&nbsp;-1)</span><br />
</code>
<br />

</div></div>
<h1><a id="id437" name="id437">变量的有效作用域</a>
</h1><div class="para"><div>
　{  }  (代码段) 中声明的变量，只在该代码段中有效，也就是所谓的<a id="id438" name="id438" class="targanchor"><dfn>本地变量</dfn></a>。<br />
　此外，TJS2 和 C 语言不同，对于能够声明变量的位置没有限制。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;while(t--)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ratio=t/all;&nbsp;<span class="comment">//&nbsp;声明变量&nbsp;'ratio'&nbsp;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setRatio(ratio);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;当控制转移到这里的时候，ratio&nbsp;已经被删除了</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;test;&nbsp;<span class="comment">//&nbsp;在这种地方也可以声明变量</span><br />
</code>
<br />

<br />
　此外，如果在代码段内声明了和代码段外的变量同名的变量，则代码段内只能访问到新声明的变量（本地变量）。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ratio=0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(flag)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ratio;&nbsp;<span class="comment">//&nbsp;与代码段外声明的变量同名的变量</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratio=buf.position&nbsp;/&nbsp;buf.totalTime;&nbsp;<span class="comment">//&nbsp;只能访问代码段内的&nbsp;ratio&nbsp;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setRatio(ratio);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;离开代码段是，代码段内的&nbsp;ratio&nbsp;被删除，而代码段外的&nbsp;ratio&nbsp;则不受影响</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;ratio=-1;<br />
</code>
<br />

<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　在所有的作用域之外（被称作全局作用域）使用 var 声明变量，则该变量将成为全局对象的成员。<br />
</div><br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
