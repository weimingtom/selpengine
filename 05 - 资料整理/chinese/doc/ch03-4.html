<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>3.4. 播放音效、音乐</title>
<link rel="stylesheet" href="css/style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
<link rel="start" href="index.html" title="KCDDP KAGeXpress 3.0 使用手册">
<link rel="up" href="ch03.html" title="第 3 章 KAGeXpress使用入门">
<link rel="prev" href="ch03-3.html" title="3.3. 使用背景和前景">
<link rel="next" href="ch03-5.html" title="3.5. 控制剧本流程">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">3.4. 播放音效、音乐</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch03-3.html">上一页</a> </td>
<th width="60%" align="center">第 3 章 KAGeXpress使用入门</th>
<td width="20%" align="right"> <a accesskey="n" href="ch03-5.html">下一页</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" lang="zh-CN">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="ch03-4"></a>3.4. 播放音效、音乐</h2></div></div></div>
<p>bgm、se、vo这三个功能分别对应BGM、音效、语音的播放。</p>
<p>和标准的图形命令相似，要调用的文件名由storage属性指定，淡入淡出、交换音乐的时间由time属性指定。当time不指定的时候将立即开始播放。</p>
<div class="example">
<a name="ex3-7"></a><p class="title"><b>例 3.7. 背景音乐指令的例子</b></p>
<div class="example-contents">
<pre class="programlisting">
@bgm storage=bgm01 time=1000</pre>
<p>这条命令将播放bgm01，淡入时间1000毫秒（1秒）。</p>
</div>
</div>
<br class="example-break"><p>对于bgm，如果设置了wait属性，则系统将在继续执行底下的部分之前等待音乐淡入淡出的完成。而对于se，如果设置了wait属性，则系统将等待音效播放完成。</p>
<div class="example">
<a name="ex3-8"></a><p class="title"><b>例 3.8. 音效使用wait属性的例子</b></p>
<div class="example-contents">
<pre class="programlisting">
@se wait storage=se001</pre>
<p>这条指令将播放se001，并等待其播放完成后才继续执行。</p>
</div>
</div>
<br class="example-break"><p>vo指令执行的时候，将会在历史履历中留下回放语音的链接。</p>
<p>从vo语句执行的地方开始，到 页尾（p命令处） 或 用户手工用vend命令中止 的位置，其中所有的文字在历史记录中都会被加上回放语音的链接。点击对应的语音，则对应的语音将被回放。</p>
<div class="example">
<a name="ex3-9"></a><p class="title"><b>例 3.9. 使用语音播放及语音回放的例子</b></p>
<div class="example-contents"><pre class="programlisting">
@vo storage=a001
【路人甲】「大家好，我是华丽的路人甲！[r]
　　　　　　当玩家打开历史纪录时，只要点击这句话，[r]
　　　　　　这句语音就会被回放的」[p]</pre></div>
</div>
<br class="example-break">
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch03-3.html">上一页</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch03.html">上一级</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch03-5.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">3.3. 使用背景和前景 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 3.5. 控制剧本流程</td>
</tr>
</table>
</div>
</body>
</html>
