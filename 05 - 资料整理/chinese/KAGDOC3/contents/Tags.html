<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>タグリファレンス</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>

<h1><a name="tags" id="tags">Reference </a></h1>
<div class="para"><div>　KAG 中可使用的指令列表。</div></div>
<h1><a name="tag_overview" id="tag_overview">TAG 概要</a></h1>
<div class="para"><div>
　TAG、是由[ ] 括起来的 KAG 指令。基本由半角英文小写组成。
　<span class="script">[</span> 之后接着是指令名。例如、trans
这个指令的话，开头就写成 <span class="script">[trans</span> 这样。<br />
　一个TAG里，除了指令名以外，还会有各种各样的属性（参数）。假如该指令不需要参数的话、指令名之后直接写上 <span class="script">]</span> 代表这个 TAG 结束就行了。例如
<span class="script">[ct]</span>
这样。<br />
　要指定属性的情况下、指令名之后、或者前一个属性之后，一定要空一个半角空格再写下一个属性。属性名之后则要写上
= 、等号之后是属性的值。所有属性都写完以后，再用 <span class="script">]</span>
标记指令结束。<br />
　例如、trans （渐变切换）这个指令，要指定 time (切换时间)这一属性、就应该写成 <span class="script">[trans time=0]</span> 这样。还有、假如接着想加上 rule=trans vague=1 这样的属性，就写成
<span class="script">[trans time=0 rule=trans vague=1]</span> 这样。<br />
　属性的值用 "" 括起来，或者不用 "" ，效果都是一样的。例如、<span class="script">[trans time="0"]</span>和 <span class="script">[trans time=0]</span>
是一样的。但是、假如属性的値里含有空格、就一定要用 "" 括起来。例如、<span class="script">[font face="ＭＳ Ｐゴシック（字体名）"]</span> 这样。<br />
　此外、对于属性的值、假如在前头附上 &amp; 这一符号、会取得之后所写上的
TJS 式的计算结果、并将这个结果作为属性的值。例如、<span class="script">[trans time=&amp;f.clearTime]</span> 这么写的话、<span class="script">f.clearTime</span> 这一変数的值将会作为 time
属性的值。<br />
　属性的值省略的话 ( '=' 及以后不写)、视同指定该值为 true 。例如、<span class="script">[playse loop storage="shock.wav"]</span> 这么写的话、loop 属性的值省略、就和 <span class="script">[playse loop=true storage="shock.wav"]</span> 是等效的。<br />
</div></div>
<h1><a name="tag_command" id="tag_command">命令行</a></h1>
<div class="para"><div>
　命令行就是、用 @ 开头的、之后写上指令名和属性的一行文字。<br />
　一行只能写一个指令。<br />
　以下的两行则是等效的。<br />
<br />
<div class="bq">
[trans time=0 rule=trans vague=1]<br />
@trans time=0 rule=trans vague=1<br />
</div>
</div>
</div>
<h1><a name="tag_cond_attrib" id="tag_cond_attrib">cond 属性</a></h1>
<div class="para"><div>
　macro endmacro if else elsif endif ignore endignore iscript endscript 除了这些指令以外、其他的指令都附有 cond 属性。<br />
　cond 属性是指定一个 TJS式 、当这个 TJS 式的结果为真的时候，才执行这个指令，当 TJS 式结果为假的时候则不执行。<br />
<br />
例 :<br />
<div class="bq">
[l cond=f.noskip]<br />
; ↑ f.noskip 为 true 的时候，执行指令 l 。<br />
</div>
</div>
</div>

<h1><a name="genre" id="genre" class="targanchor">分类・指令一覧</a></h1>


<div class="para"><div><br />
<div class="taggenrehead">书签·通过记录操作</div><br />
<table class="taglist" summary="书签·通过记录操作 指令一覧"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#copybookmark">copybookmark</a></span></td><td class="taglisteven">( 复制存档 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#disablestore">disablestore</a></span></td><td class="taglistodd">( 暂时禁止储存/读取游戏 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#erasebookmark">erasebookmark</a></span></td><td class="taglisteven">( 删除存档 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#goback">goback</a></span></td><td class="taglistodd">( 返回之前 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#gotostart">gotostart</a></span></td><td class="taglisteven">( 返回开始（如标题画面等） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#load">load</a></span></td><td class="taglistodd">( 读取游戏 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#locksnapshot">locksnapshot</a></span></td><td class="taglisteven">( 锁定屏幕截图（存档记录用画面） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#record">record</a></span></td><td class="taglistodd">( 进行通过记录 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#save">save</a></span></td><td class="taglisteven">( 保存游戏 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#startanchor">startanchor</a></span></td><td class="taglistodd">( 「返回开始」的有效·无效化 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#store">store</a></span></td><td class="taglisteven">( 存取机能设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#tempload">tempload</a></span></td><td class="taglistodd">( 读取内存上临时保存的书签 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#tempsave">tempsave</a></span></td><td class="taglisteven">( 临时保存书签到内存 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#unlocksnapshot">unlocksnapshot</a></span></td><td class="taglistodd">( 屏幕截图锁定解除 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">变量·TJS 操作</div><br />
<table class="taglist" summary="变量·TJS 操作 指令一覧"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#clearvar">clearvar</a></span></td><td class="taglisteven">( 删除所有一般变量 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#else">else</a></span></td><td class="taglistodd">( 假如不满足 if 的条件则执行的代码段 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#elsif">elsif</a></span></td><td class="taglisteven">( 假如不满足 if 的条件，则有条件执行的代码段 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#emb">emb</a></span></td><td class="taglistodd">( 显示 TJS 式的执行结果 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#endif">endif</a></span></td><td class="taglisteven">( 假如条件符合则执行的代码段(结束) )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#endignore">endignore</a></span></td><td class="taglistodd">( 假如条件符合则不执行本段代码(结束) )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#endscript">endscript</a></span></td><td class="taglisteven">( TJS 脚本部分(结束) )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#eval">eval</a></span></td><td class="taglistodd">( TJS 式的执行 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#if">if</a></span></td><td class="taglisteven">( 假如条件符合则执行本段代码 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#ignore">ignore</a></span></td><td class="taglistodd">( 假如条件符合则不执行本段代码 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#input">input</a></span></td><td class="taglisteven">( 输入文字列 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#iscript">iscript</a></span></td><td class="taglistodd">( TJS 脚本代码段 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#trace">trace</a></span></td><td class="taglisteven">( 在消息台中记录 TJS 式运算结果（便于除错） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#waittrig">waittrig</a></span></td><td class="taglistodd">( 等待直到条件满足 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">宏操作</div><br />
<table class="taglist" summary="宏操作 指令一覧"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#endmacro">endmacro</a></span></td><td class="taglisteven">( 宏定义（结束） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#erasemacro">erasemacro</a></span></td><td class="taglistodd">( 删除宏 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#macro">macro</a></span></td><td class="taglisteven">( 定义宏 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">层操作</div><br />
<table class="taglist" summary="层操作 指令一覧"><tbody>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#animstart">animstart</a></span></td><td class="taglistodd">( 控制动画开始 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#animstop">animstop</a></span></td><td class="taglisteven">( 控制动画停止 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#backlay">backlay</a></span></td><td class="taglistodd">( 将层“表页”的内容复制到“里页” （准备进行画面切换） )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#copylay">copylay</a></span></td><td class="taglisteven">( 复制层内容 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#freeimage">freeimage</a></span></td><td class="taglistodd">( 卸载图片，释放内存 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#image">image</a></span></td><td class="taglisteven">( 载入图片（备显示用） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#laycount">laycount</a></span></td><td class="taglistodd">( 改变层数量 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#layopt">layopt</a></span></td><td class="taglisteven">( 层属性设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#mapaction">mapaction</a></span></td><td class="taglistodd">( 地图（clickmap）用可点击部分定义图片指定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#mapdisable">mapdisable</a></span></td><td class="taglisteven">( 地图（clickmap）无效化 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#mapimage">mapimage</a></span></td><td class="taglistodd">( 地图（clickmap）用显示图片指定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#move">move</a></span></td><td class="taglisteven">( 层的自动移动 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#pimage">pimage</a></span></td><td class="taglistodd">( 在已载入图片的层上追加显示新图片 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#ptext">ptext</a></span></td><td class="taglisteven">( 在图片层上显示文字 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#stopmove">stopmove</a></span></td><td class="taglistodd">( 停止层的自动移动 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#stoptrans">stoptrans</a></span></td><td class="taglisteven">( 停止层的切换效果 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#trans">trans</a></span></td><td class="taglistodd">( 层的切换过渡效果 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wa">wa</a></span></td><td class="taglisteven">( 等待动画停止 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#wm">wm</a></span></td><td class="taglistodd">( 等待自动移动结束 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wt">wt</a></span></td><td class="taglisteven">( 等待切换效果结束 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">标签·跳转操作</div><br />
<table class="taglist" summary="标签·跳转操作 指令一覧"><tbody>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#button">button</a></span></td><td class="taglistodd">( 显示按钮 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#call">call</a></span></td><td class="taglisteven">( 呼叫子事件（SubRoutine） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#endlink">endlink</a></span></td><td class="taglistodd">( 选择支（结束） )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#jump">jump</a></span></td><td class="taglisteven">( 跳转到剧本档中的某个标签 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#link">link</a></span></td><td class="taglistodd">( 显示选择支 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#return">return</a></span></td><td class="taglisteven">( 从子事件返回（与call对应） )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">消息历史记录操作</div><br />
<table class="taglist" summary="消息历史记录操作 指令一覧"><tbody>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#endhact">endhact</a></span></td><td class="taglistodd">( 消息历史记录中可执行的动作（定义结束） )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#hact">hact</a></span></td><td class="taglisteven">( 定义消息历史记录中可执行的动作（如语音回放） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#history">history</a></span></td><td class="taglistodd">( 消息历史记录设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#hr">hr</a></span></td><td class="taglisteven">( 在消息历史记录中换行/换页 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#showhistory">showhistory</a></span></td><td class="taglistodd">( 显示消息历史记录 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">消息层操作</div><br />
<table class="taglist" summary="消息层操作 指令一覧"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#cancelautomode">cancelautomode</a></span></td><td class="taglisteven">( 「自动前进」停止 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#cancelskip">cancelskip</a></span></td><td class="taglistodd">( 停止快速略过 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#ch">ch</a></span></td><td class="taglisteven">( 文字显示（不自动换行） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#cm">cm</a></span></td><td class="taglistodd">( 清除所有消息层文字 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#ct">ct</a></span></td><td class="taglisteven">( 重设消息层 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#current">current</a></span></td><td class="taglistodd">( 指定当前使用的消息层 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#deffont">deffont</a></span></td><td class="taglisteven">( 默认的文字属性设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#defstyle">defstyle</a></span></td><td class="taglistodd">( 默认的文字显示格式设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#delay">delay</a></span></td><td class="taglisteven">( 文字显示速度设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#endindent">endindent</a></span></td><td class="taglistodd">( 缩进设定解除 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#endnowait">endnowait</a></span></td><td class="taglisteven">( 文字瞬间显示（结束） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#er">er</a></span></td><td class="taglistodd">( 清除当前消息层上的文字 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#font">font</a></span></td><td class="taglisteven">( 文字属性设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#glyph">glyph</a></span></td><td class="taglistodd">( 点击等待符号设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#graph">graph</a></span></td><td class="taglisteven">( 在消息层上显示的 graph 图片 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#hch">hch</a></span></td><td class="taglistodd">( 竖行文字中横写的文字 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#indent">indent</a></span></td><td class="taglisteven">( 缩进设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#l">l</a></span></td><td class="taglistodd">( 行末等待玩家点击 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#locate">locate</a></span></td><td class="taglisteven">( 文字显示位置指定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#locklink">locklink</a></span></td><td class="taglistodd">( 之前定义的选择支·按钮暂时无效化 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#nowait">nowait</a></span></td><td class="taglisteven">( 文字瞬间显示 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#p">p</a></span></td><td class="taglistodd">( 页末等待点击 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#position">position</a></span></td><td class="taglisteven">( 消息层属性设定 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#r">r</a></span></td><td class="taglistodd">( 文字换行 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#resetfont">resetfont</a></span></td><td class="taglisteven">( 文字属性设为默认值 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#resetstyle">resetstyle</a></span></td><td class="taglistodd">( 文字显示样式设为默认值 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#ruby">ruby</a></span></td><td class="taglisteven">( 使用注音（ruby） )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#style">style</a></span></td><td class="taglistodd">( 文字显示格式设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#unlocklink">unlocklink</a></span></td><td class="taglisteven">( 选择支·按钮暂时无效化的解除 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">系统操作</div><br />
<table class="taglist" summary="系统操作 指令一覧"><tbody>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#autowc">autowc</a></span></td><td class="taglistodd">( 自动等待 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#clearsysvar">clearsysvar</a></span></td><td class="taglisteven">( 删除所有系统变量 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#clickskip">clickskip</a></span></td><td class="taglistodd">( 点击跳过设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#close">close</a></span></td><td class="taglisteven">( 关闭游戏窗口 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#cursor">cursor</a></span></td><td class="taglistodd">( 改变滑鼠光标 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#hidemessage">hidemessage</a></span></td><td class="taglisteven">( 隐藏消息层 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#loadplugin">loadplugin</a></span></td><td class="taglistodd">( 读入插件 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#mappfont">mappfont</a></span></td><td class="taglisteven">( 指定预渲染文字包 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#nextskip">nextskip</a></span></td><td class="taglistodd">( 「跳跃至下一选择支」设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#quake">quake</a></span></td><td class="taglisteven">( 画面震动效果 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#rclick">rclick</a></span></td><td class="taglistodd">( 右键点下后执行的动作设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#resetwait">resetwait</a></span></td><td class="taglisteven">( 等待设定设为默认值 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#s">s</a></span></td><td class="taglistodd">( 停止执行（等待玩家点击选择支/按钮） )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#stopquake">stopquake</a></span></td><td class="taglisteven">( 停止画面震动效果 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#title">title</a></span></td><td class="taglistodd">( 改变游戏标题 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wait">wait</a></span></td><td class="taglisteven">( 等待一段时间 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#waitclick">waitclick</a></span></td><td class="taglistodd">( 等待玩家点击 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wc">wc</a></span></td><td class="taglisteven">( 根据文字显示速度设定等待时间 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#wq">wq</a></span></td><td class="taglistodd">( 等待画面震动效果结束 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">选择框与文本输入框操作</div><br />
<table class="taglist" summary="选择框与文本输入框操作 指令一覧"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#checkbox">checkbox</a></span></td><td class="taglisteven">( 显示勾选框 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#commit">commit</a></span></td><td class="taglistodd">( 将玩家的输入内容代入变数 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#edit">edit</a></span></td><td class="taglisteven">( 显示单行文本框 )</td></tr>
</tbody></table>
<br />
<div class="taggenrehead">音乐·音效·影片播放</div><br />
<table class="taglist" summary="音乐·音效·影片播放 指令一覧"><tbody>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#bgmopt">bgmopt</a></span></td><td class="taglistodd">( BGM 的设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#cancelvideoevent">cancelvideoevent</a></span></td><td class="taglisteven">( 停止影片事件 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#cancelvideosegloop">cancelvideosegloop</a></span></td><td class="taglistodd">( 停止影片片段循环 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#clearvideolayer">clearvideolayer</a></span></td><td class="taglisteven">( 清除影片层 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#fadebgm">fadebgm</a></span></td><td class="taglistodd">( BGM 音量渐变 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#fadeinbgm">fadeinbgm</a></span></td><td class="taglisteven">( 淡入 BGM )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#fadeinse">fadeinse</a></span></td><td class="taglistodd">( 音效淡入 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#fadeoutbgm">fadeoutbgm</a></span></td><td class="taglisteven">( 淡出 BGM )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#fadeoutse">fadeoutse</a></span></td><td class="taglistodd">( 音效淡出 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#fadese">fadese</a></span></td><td class="taglisteven">( 音效渐变 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#openvideo">openvideo</a></span></td><td class="taglistodd">( 影片/ SWF 播放准备 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#pausebgm">pausebgm</a></span></td><td class="taglisteven">( BGM 播放暂停 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#pausevideo">pausevideo</a></span></td><td class="taglistodd">( 影片暂停播放 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#playbgm">playbgm</a></span></td><td class="taglisteven">( BGM 播放 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#playse">playse</a></span></td><td class="taglistodd">( 播放音效 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#playvideo">playvideo</a></span></td><td class="taglisteven">( 影片/ SWF 播放 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#preparevideo">preparevideo</a></span></td><td class="taglistodd">( 影片播放准备 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#resumebgm">resumebgm</a></span></td><td class="taglisteven">( BGM 播放继续 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#resumevideo">resumevideo</a></span></td><td class="taglistodd">( 影片播放继续 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#rewindvideo">rewindvideo</a></span></td><td class="taglisteven">( 影片倒带 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#seopt">seopt</a></span></td><td class="taglistodd">( 音效设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#stopbgm">stopbgm</a></span></td><td class="taglisteven">( BGM 播放停止 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#stopse">stopse</a></span></td><td class="taglistodd">( 停止音效播放 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#stopvideo">stopvideo</a></span></td><td class="taglisteven">( 电影/ SWF 播放停止 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#video">video</a></span></td><td class="taglistodd">( 影片/ SWF 画面显示范围指定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#videoevent">videoevent</a></span></td><td class="taglisteven">( 影片事件 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#videolayer">videolayer</a></span></td><td class="taglistodd">( 影片层设定 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#videosegloop">videosegloop</a></span></td><td class="taglisteven">( 影片片段循环 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#wb">wb</a></span></td><td class="taglistodd">( 等待 BGM 渐变结束 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wf">wf</a></span></td><td class="taglisteven">( 等待音效播放结束 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#wl">wl</a></span></td><td class="taglistodd">( 等待 BGM 播放结束 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wp">wp</a></span></td><td class="taglisteven">( 等待影片播放事件结束 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#ws">ws</a></span></td><td class="taglistodd">( 等待音效播放结束 )</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#wv">wv</a></span></td><td class="taglisteven">( 等待影片播放结束 )</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#xchgbgm">xchgbgm</a></span></td><td class="taglistodd">( BGM 渐变切换 )</td></tr>
</tbody></table><br /><br /></div></div>

<h1><a name="animstart" id="animstart" class="targanchor"><span class="b">animstart</span> ( 控制动画开始 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ animstart (控制动画开始) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="animstart_layer" id="animstart_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　アニメーションを開始する层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。　指定した层には、アニメーション情報が読み込まれていないとなりません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="animstart_page" id="animstart_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="animstart_seg" id="animstart_seg">seg</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">1 以上的整数</td><td class="tagattribdesc">　この属性で指定したセグメント番号でアニメーションを開始します。<br />　異なるセグメント番号では同時に複数のアニメーションを実行できます。<br />　セグメント番号は任意の番号を指定できますが、必要以上に大きな番号を指定しないでください。また、セグメント 0 は指定できません。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="animstart_target" id="animstart_target">target</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">開始标签（label）名</td><td class="tagattribdesc">　アニメーションを開始するための asd 文件（file）中の标签（label）を指定します。<br />　<a class="jump" href="#link">link</a>指令などと同じように、* (アステリスク) を忘れないようにしてください。</td></tr>
</tbody></table><div class="tagremarks">　アニメーションを、指定したセグメントで、指定した标签（label）から開始します。<br />　セグメントは、一つの层、一つのアニメーション定義文件（file） ( asd 文件（file） ) で複数のアニメーションを同時に実行するための概念で、一つの层で複数のセグメントを使用でき、各セグメントで同時に別々の标签（label）からアニメーションを開始することができます。<br />　セグメント 0 は特別なセグメントで、层に图片が読み込まれたのと同時に実行されるアニメーションで、この指令や <a class="jump" href="#animstop">animstop</a> 指令ではセグメント 0 は指定できません。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="animstop" id="animstop" class="targanchor"><span class="b">animstop</span> ( 控制动画停止 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ animstop (控制动画停止) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="animstop_layer" id="animstop_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　アニメーションを停止する层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。　指定した层には、アニメーション情報が読み込まれていないとなりません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="animstop_page" id="animstop_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="animstop_seg" id="animstop_seg">seg</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">1 以上的整数</td><td class="tagattribdesc">　この属性で指定したセグメント番号のアニメーションを停止します。<br />　セグメント番号 0 は指定できません。</td></tr>
</tbody></table><div class="tagremarks">　任意のセグメントのアニメーションを停止します。<br />　この指令はアニメーションの終了を待ちません。アニメーションの終了を待つには<a class="jump" href="#wa">wa</a> 指令を使用してください。<br />　アニメーションが循环している場合、asd 文件（file）上で home 指令を通過するまでアニメーションは停止しません。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="autowc" id="autowc" class="targanchor"><span class="b">autowc</span> ( 自动等待 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ autowc (自动等待) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="autowc_enabled" id="autowc_enabled">enabled</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　自動ウェイトを有効にする場合は true を、無効にするには false を指定します。<br />　省略すれば設定は変更されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="autowc_ch" id="autowc_ch">ch</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">対象の文字</td><td class="tagattribdesc">　自動ウェイトを入れる文字を指定します。指定された文字のあとに、time 属性で指定した文字数分のウェイトが入ります。<br />　省略すれば設定は変更されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="autowc_time" id="autowc_time">time</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ウェイト(文字数単位)</td><td class="tagattribdesc">　自動ウェイトを入れる时间を文字数単位で指定します。<br />　ch 属性で指定した文字それぞれに対して、カンマで区切って时间を指定できます。<br />　一つしか时间を指定しなかった場合は ch 指令で指定したすべての文字にその时间が設定されます。<br />　この属性を省略した場合は 4 を指定したと見なされます。<br /></td></tr>
</tbody></table><div class="tagremarks">　特定の文字の後に指定文字数分のウェイトを入れることができます。<br />　ch 属性で指定した文字が表示された後、time 属性で指定した时间がウェイトとして入ります。<br />　文字は ch 指令で複数指定できて、それに対応してそれぞれの文字に time 属性でタイミングを指定できます。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[autowc enabled=true ch="、。・" time="3,5,3"]<br />; ↑ "、。・" の各文字に対してそれぞれ 3, 5, 3 文字数分のウェイトを入れる
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="backlay" id="backlay" class="targanchor"><span class="b">backlay</span> ( 将层“表页”的内容复制到“里页” （准备进行画面切换） )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ backlay (将层“表页”的内容复制到“里页” （准备进行画面切换）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="backlay_layer" id="backlay_layer">layer</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"base" 或者 0 以上的整数2 または message0 或者 message1 或者 message</td><td class="tagattribdesc">　指定作为该操作对象的层。<br />　base を指定すると 背景层 になります。<br />　0 以上的整数を指定すると前景层になります。<br />　message0 或者 message1 を指定すると消息层になります。単に message とのみ指定した場合は、<a class="jump" href="#current">current</a> 指令で指定した現在の操作対象の消息层が対象になります ( 裏页の消息层が操作対象であってもその消息层の表页→裏页へのコピーが行われます )。<br />　省略すると、すべての层の情報が裏页にコピーされます。<br /></td></tr>
</tbody></table><div class="tagremarks">　指定した层、あるいはすべての层の情報を、表页から裏页にコピーします。<br />　コピーされるのは、<a class="jump" href="#copylay">copylay</a> 指令でコピーされる情報と同じです。<br />　<a class="jump" href="#trans">trans</a> 指令は表页の层の图片を裏页の层の图片に置き換えます。そのため、过渡（transition）前にこの backlay タグで图片を裏页に転送し、裏页で层を操作してから、过渡（transition）を行うという方法に用います。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="bgmopt" id="bgmopt" class="targanchor"><span class="b">bgmopt</span> ( BGM 的设定 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ bgmopt (BGM 的设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="bgmopt_volume" id="bgmopt_volume">volume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　BGM の音量を % で指定します。初期状態の KAG では100 % です。省略すれば音量は変更されません。<br />　100 が上限です。音量の抑制のみをサポートします(増幅は音源の特性上、できません)。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="bgmopt_gvolume" id="bgmopt_gvolume">gvolume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　BGM の大域音量を % で指定します。初期状態の KAG では100 % です。省略すれば音量は変更されません。<br />　大域音量は volume 属性で指定する通常の音量とは別に、BGM の音量を制御することができるもう一つのものです。実際に再生される音量は、通常の音量と大域音量を掛け合わせた音量になります( たとえば volume=50 で gvolume=75 ならば 50(%)*75(%)=37.5(%) )<br />　大域音量は系统変数に記録され、次回起動時にも引き継がれます ( 各栞に保存されるわけではありません )。</td></tr>
</tbody></table><div class="tagremarks">　BGM のさまざまな設定を変更します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="button" id="button" class="targanchor"><span class="b">button</span> ( 显示按钮 )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ button (显示按钮) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="button_graphic" id="button_graphic">graphic</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　按钮にする图片を指定します。<br />　<a class="jump" href="#image">image</a>指令の storage 属性を参照してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_graphickey" id="button_graphickey">graphickey</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">按钮にする图片のカラーキーを指定します。<br />　<a class="jump" href="#image">image</a>指令の key 属性を参照してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_storage" id="button_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">剧本文件（file）名</td><td class="tagattribdesc">　跳转先の剧本文件（file）を指定します。省略すると、現在の剧本文件（file）内であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_target" id="button_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）名</td><td class="tagattribdesc">　跳转先の标签（label）を指定します。<br />　省略すると、文件（file）の先頭から実行されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_recthit" id="button_recthit">recthit</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　矩形で当たり判定を行うかどうかを指定します。true が指定されていると、按钮の表示されている矩形全域でマウスのクリックなどに反応します。false が指定されていると、按钮の不透明度が 64 未満の領域ではマウスのクリックなどに反応しなくなります。<br />　省略すると true が指定されたと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_exp" id="button_exp">exp</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　クリックされたときに実行される TJS 式を指定します。省略すれば式は実行されません。storage や target が指定されていた場合、この式が実行されてから跳转先に移動します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_hint" id="button_hint">hint</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ヒントとして表示させる文字列</td><td class="tagattribdesc">　连接（link）を選択し、マウスカーソルを静止させたときに表示されるツールチップヒントを指定します。<br />　省略すると表示は行われません。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_onenter" id="button_onenter">onenter</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　按钮内にマウスカーソルが入ってきたときに実行される TJS 式を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_onleave" id="button_onleave">onleave</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　按钮内からマウスカーソルが出ていった時に実行される TJS 式を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_countpage" id="button_countpage">countpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　按钮を選択して他の标签（label）に移行するときに、この连接（link）のある場所の标签（label）を「読んだ」とみなすかどうかを指定します。<br />　[s] 指令を実行する前に按钮が選択されて跳转する際に、その页が「読んだ」ことになっては困る場合に false を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_clickse" id="button_clickse">clickse</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　クリックされたときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_clicksebuf" id="button_clicksebuf">clicksebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　clickse で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_enterse" id="button_enterse">enterse</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　マウスが進入したときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_entersebuf" id="button_entersebuf">entersebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　enterse で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_leavese" id="button_leavese">leavese</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　マウスが退出したときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="button_leavesebuf" id="button_leavesebuf">leavesebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　leavese で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　現在の消息层上に <a class="jump" href="#link">link</a> 指令と同様に连接（link）を作成しますが、图片を用いた按钮を作成します。<br />　按钮が作成される位置は <a class="jump" href="#locate">locate</a> 指令で指定した位置が图片の左上点になりますので、この指令を使う前に locate 指令で位置を指定してください。この指令は文字表示位置を移動しません。<br />　graphic 属性で指定する图片は、<br />・通常の状態<br />・按钮が押された状態<br />・按钮の上にマウスカーソルがある状態<br />　の3つの图片が左から順に横並びになった图片です。一つの图片に、同じサイズの３つの状態の图片が横に並んだ形式になっています。つまり、この属性で指定する图片は、按钮の横幅の３倍の横幅を持つことになります。<br />　この指令を使う場合は、なるべく s 指令ですぐに選択肢待ちにしてください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="call" id="call" class="targanchor"><span class="b">call</span> ( 呼叫子事件（SubRoutine） )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ call (呼叫子事件（SubRoutine）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="call_storage" id="call_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">剧本文件（file）名</td><td class="tagattribdesc">　呼び出したいサブルーチンのあるの剧本文件（file）を指定します。省略すると、現在の剧本文件（file）内であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="call_target" id="call_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）名</td><td class="tagattribdesc">　呼び出すサブルーチンの标签（label）を指定します。<br />　省略すると、文件（file）の先頭から実行されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="call_countpage" id="call_countpage">countpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">false(默认) 或者 true</td><td class="tagattribdesc">　他の标签（label）に移行するときに、この指令のある場所の标签（label）を「読んだ」とみなすかどうかを指定します。<br />　サブルーチンを呼び出す際に、呼び出し元の页がその時点で「読まれた」ことにしたい場合に true を指定します。</td></tr>
</tbody></table><div class="tagremarks">　指定された剧本文件（file）の指定された标签（label）で示されるサブルーチンを呼び出します。<br />　呼び出されたサブルーチンは、 <a class="jump" href="#return">return</a> 指令で呼び出し元や任意の場所に戻ることができます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cancelautomode" id="cancelautomode" class="targanchor"><span class="b">cancelautomode</span> ( 「自动前进」停止 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　「自動的に読み進む」を強制的に解除します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cancelskip" id="cancelskip" class="targanchor"><span class="b">cancelskip</span> ( 停止快速略过 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　快速略过（skip）状態の解除を行います。<br />　快速略过（skip）状態とは、クリック快速略过（skip） ( 文字表示途中で画面をクリックすることによりクリック待ちまで一気に文章を表示する機能 ) と、「次の選択肢まですすむ」で快速略过（skip）が行われている状態の事です。<br />　「次の選択肢まで進む」機能自体が無効になったり、クリック快速略过（skip）の機能自体がそれ以降無効になったりするわけではありません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cancelvideoevent" id="cancelvideoevent" class="targanchor"><span class="b">cancelvideoevent</span> ( 停止影片事件 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ cancelvideoevent (停止影片事件) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="cancelvideoevent_slot" id="cancelvideoevent_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks"><a class="jump" href="#videoevent">videoevent</a>指令で設定したピリオドイベントを解除します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cancelvideosegloop" id="cancelvideosegloop" class="targanchor"><span class="b">cancelvideosegloop</span> ( 停止影片片段循环 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ cancelvideosegloop (停止影片片段循环) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="cancelvideosegloop_slot" id="cancelvideosegloop_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks"><a class="jump" href="#videosegloop">videosegloop</a>指令で設定したセグメント循环を解除します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ch" id="ch" class="targanchor"><span class="b">ch</span> ( 文字显示（不自动换行） )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ ch (文字显示（不自动换行）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="ch_text" id="ch_text">text</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文字</td><td class="tagattribdesc">　ここで指定した文字が表示されます。<br />　複数の文字を指定できますが、自動改行はされません ( 文字履歴层もここで複数の文字を指定された場合は改行されません )。また、複数の文字を指定した場合は一気に表示されます ( nowait で表示するよりもかなり高速 )。通常は一文字のみを指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　文字を current 指令で指定した消息层に表示します。普通は使いません。<br />　KAG 内部では、通常の文字は、一文字一文字すべてがこの指令に分解されて処理されます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="checkbox" id="checkbox" class="targanchor"><span class="b">checkbox</span> ( 显示勾选框 )</a></h1>
<div class="taggenre">选择框与文本输入框操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ checkbox (显示勾选框) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="checkbox_name" id="checkbox_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">変数名</td><td class="tagattribdesc">　チェックボックスの状態を格納する変数を指定します。<br />　変数が 0 (或者未定義)ならばチェックされていない、0 でなければチェックされているとみなされます。<br />　もし変数がすでに 0 以外であれば、チェックボックスはチェックされた状態で作成されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="checkbox_bgcolor" id="checkbox_bgcolor">bgcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　背景色を 0xRRGGBB 形式で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="checkbox_opacity" id="checkbox_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0(完全透明) 〜 255(完全不透明)</td><td class="tagattribdesc">　bgcolor 属性で指定した背景色の不透明度を 0 〜 255 で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="checkbox_color" id="checkbox_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　チェックマークの色を 0xRRGGBB 形式で指定します。</td></tr>
</tbody></table><div class="tagremarks">　現在操作対象になっている消息层の、現在の位置に、チェックボックスを作成します。<br />　チェックボックスの状態は、<a class="jump" href="#commit">commit</a> 指令が実行されるまで、指定した変数に代入されることはありません。<br />　commit 指令が実行されると、チェックボックスがチェックされていれば 1 が、チェックされていなければ 0 が変数に入ります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="clearsysvar" id="clearsysvar" class="targanchor"><span class="b">clearsysvar</span> ( 删除所有系统变量 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　系统変数をすべて消去します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="clearvar" id="clearvar" class="targanchor"><span class="b">clearvar</span> ( 删除所有一般变量 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　ゲーム変数をすべて消去します。すべてのゲーム変数は未定義になります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="clearvideolayer" id="clearvideolayer" class="targanchor"><span class="b">clearvideolayer</span> ( 清除影片层 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ clearvideolayer (清除影片层) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="clearvideolayer_slot" id="clearvideolayer_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="clearvideolayer_channel" id="clearvideolayer_channel">channel</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">1 或者 2</td><td class="tagattribdesc">　层描画模式（mode）による描画を解除したいチャンネルを指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#videolayer">videolayer</a>指令で設定した层を解除します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="clickskip" id="clickskip" class="targanchor"><span class="b">clickskip</span> ( 点击跳过设定 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ clickskip (点击跳过设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="clickskip_enabled" id="clickskip_enabled">enabled</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　クリック快速略过（skip）機能を有効にする場合は true、無効にする場合はfalse を指定します。</td></tr>
</tbody></table><div class="tagremarks">　クリック快速略过（skip）とは、文字表示途中で画面をクリックすることにより、过渡（transition）や自動移動を中断したり、クリック待ちまで一気に文章を表示する機能です。<br />　デモシーンなどでは無効にしていたほうがいい場合があります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="close" id="close" class="targanchor"><span class="b">close</span> ( 关闭游戏窗口 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ close (关闭游戏窗口) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="close_ask" id="close_ask">ask</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　true を指定すると、終了するかどうかの確認をします。false を指定するとこの確認はありません。この属性を省略すると、 true を指定したとみなされます。<br />　この確認でユーザが「いいえ」を選んだ場合、実行はそのまま継続します。</td></tr>
</tbody></table><div class="tagremarks">　ウィンドウを閉じます。ask 属性に false を指定しない限り、終了確認があります( バージョン情報ダイアログでは終了確認は出ません )。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cm" id="cm" class="targanchor"><span class="b">cm</span> ( 清除所有消息层文字 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　すべての消息层のクリアを行います。<br />　すべての消息层の文字は消去されますが、<a class="jump" href="#ct">ct</a> 指令のように操作対象の消息层が表页の message0 に指定されるようなことはありません。この指令を実行後も操作対象の层は同じです。<br />　<a class="jump" href="#font">font</a> 指令で指定した文字の属性、<a class="jump" href="#style">style</a> 指令で指定したスタイルはすべて標準状態に戻ります。ただし、<a class="jump" href="#position">position</a> 指令や <a class="jump" href="#layopt">layopt</a> 指令で指定した属性は引き継がれます。<br />　「*标签（label）名|見出し名」 形式の标签（label）の次には、この cm 指令あるいは <a class="jump" href="#ct">ct</a> 指令を書くべきです。( 栞のロード時には标签（label）から実行が始まるが、ロード時には必ずメッセージ层上の文字がクリアされるため )。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="commit" id="commit" class="targanchor"><span class="b">commit</span> ( 将玩家的输入内容代入变数 )</a></h1>
<div class="taggenre">选择框与文本输入框操作</div>
<div class="para"><div><div class="tagremarks">　現在操作対象になっている消息层上のすべてのエディットやチェックボックスなどの「フォーム要素」の内容を確定します。<br />　内容が確定されると、フォーム要素で編集されていた文字列や状態が、各変数に実際に代入されます。<br />　各フォーム要素は <a class="jump" href="#er">er</a> や <a class="jump" href="#ct">ct</a> 指令のような消息层を消去する系の指令で消去されてしまいますので、そのまえにcommit 指令を実行する必要があります。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
*editname<br />@er<br />名字 : [edit name="f.sname" length=200][r]<br />名前 : [edit name="f.name" length=200][r]<br />[link target=*ok]OK[endlink][r]<br />[link target=*cancel]cancel[endlink][s]<br />*ok<br />; OK が選択された<br />; commit を行って変数に代入を行う<br />[commit]<br />[jump target=*exit]<br />*cancel<br />; キャンセルが選択された<br />; commit は行わない<br />[jump target=*exit]<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="copybookmark" id="copybookmark" class="targanchor"><span class="b">copybookmark</span> ( 复制存档 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ copybookmark (复制存档) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="copybookmark_from" id="copybookmark_from">from</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">0或者正の整数</td><td class="tagattribdesc">　コピー元の栞の番号を指定します。省略すると 0 が指定されたと見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="copybookmark_to" id="copybookmark_to">to</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">0或者正の整数</td><td class="tagattribdesc">　コピー先の栞の番号を指定します。省略すると 0 が指定されたと見なされます。</td></tr>
</tbody></table><div class="tagremarks">　非フリーセーブ模式（mode）において、from 属性で指定された番号の栞から to 属性で指定された番号の栞へ内容のコピーを行います。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="copylay" id="copylay" class="targanchor"><span class="b">copylay</span> ( 复制层内容 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ copylay (复制层内容) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="copylay_srclayer" id="copylay_srclayer">srclayer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 或者 1 或者 2 または message0 或者 message1 或者 message</td><td class="tagattribdesc">　コピー元となる层を指定します。<br />　この属性と srcpage 属性で指定した层がコピー元になります。<br />　base を指定すると 背景层 になります。<br />　0 或者 1 或者 2 を指定すると前景层になります。<br />　message0 或者 message1 を指定すると消息层になります。単に message とのみ指定した場合は、<a class="jump" href="#current">current</a> 指令で指定した現在の操作対象の消息层が対象になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="copylay_destlayer" id="copylay_destlayer">destlayer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 或者 1 或者 2 または message0 或者 message1 或者 message</td><td class="tagattribdesc">　コピー先となる层を指定します。<br />　この属性と destpage 属性で指定した层がコピー先になります。<br />　base を指定すると 背景层 になります。<br />　0 或者 1 或者 2 を指定すると前景层になります。<br />　message0 或者 message1 を指定すると消息层になります。単に message とのみ指定した場合は、<a class="jump" href="#current">current</a> 指令で指定した現在の操作対象の消息层が対象になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="copylay_srcpage" id="copylay_srcpage">srcpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"fore" 或者 "back"</td><td class="tagattribdesc">　コピー元となる页を指定します。<br />　この属性と srclayer 属性で指定した层がコピー元になります。<br />　"fore" を指定すると表页、"back" を指定すると裏页になります。省略すると "fore" を指定したと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="copylay_destpage" id="copylay_destpage">destpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"fore" 或者 "back"</td><td class="tagattribdesc">　コピー先となる页を指定します。<br />　この属性と destlayer 属性で指定した层がコピー元になります。<br />　"fore" を指定すると表页、"back" を指定すると裏页になります。省略すると "fore" を指定したと見なされます。<br /></td></tr>
</tbody></table><div class="tagremarks">　指定した层の情報をコピーします。<br />　ただし、同種の层 ( 背景层同士、前景层同士、消息层同士 )でのみコピーできます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ct" id="ct" class="targanchor"><span class="b">ct</span> ( 重设消息层 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　消息层をリセットします。<br />　すべての消息层の文字は消去され、操作対象の消息层は表页の message0 に指定されます。<br />　<a class="jump" href="#font">font</a> 指令で指定した文字の属性、<a class="jump" href="#style">style</a> 指令で指定したスタイルはすべて標準状態に戻ります。ただし、<a class="jump" href="#position">position</a> 指令や <a class="jump" href="#layopt">layopt</a> 指令で指定した属性は引き継がれます。<br />　これに対し、<a class="jump" href="#er">er</a> 指令は、現在の操作対象の文字层上の文字を消去したり文字やスタイルの属性を標準状態に戻したりするだけです。<br />　「*标签（label）名|見出し名」 形式の标签（label）の次には、この ct 指令あるいは <a class="jump" href="#cm">cm</a> 指令を書くべきです。( 栞のロード時には标签（label）から実行が始まるが、ロード時には必ずメッセージ层上の文字がクリアされるため )。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="current" id="current" class="targanchor"><span class="b">current</span> ( 指定当前使用的消息层 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ current (指定当前使用的消息层) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="current_layer" id="current_layer">layer</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"message0" 或者 "message1"</td><td class="tagattribdesc">　操作対象とする消息层を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="current_page" id="current_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"fore"(默认) 或者 "back"</td><td class="tagattribdesc">　 表(fore)画面の层を対象とするか、裏(back)画面の层を対象とするかを指定します。省略すると表页であると見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="current_withback" id="current_withback">withback</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false (默认)</td><td class="tagattribdesc">　表页が対象の場合、裏页にも同様に文字を描画するかを指定します。この属性を省略すると false が指定されたとみなされます。　裏页に同時に文字を描画する必要があるのは、同時に过渡（transition）を進行させる場合などです。</td></tr>
</tbody></table><div class="tagremarks">　操作対象とする消息层を指定します。以後、文章や<a class="jump" href="#font">font</a> 指令での文字属性の指定、<a class="jump" href="#l">l</a>指令等のクリック待ちなどは、この层に対して行われます。<br />　message0 は默认で可視の状態ですが、message1 は <a class="jump" href="#layopt">layopt</a> 指令等で visible=true としないと表示されないので注意してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="cursor" id="cursor" class="targanchor"><span class="b">cursor</span> ( 改变滑鼠光标 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ cursor (改变滑鼠光标) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="cursor_default" id="cursor_default">default</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">cr で始まるカーソル定数 或者 カーソル文件（file）名</td><td class="tagattribdesc">通常のマウスカーソルを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="cursor_pointed" id="cursor_pointed">pointed</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">cr で始まるカーソル定数 或者 カーソル文件（file）名</td><td class="tagattribdesc">连接（link）や按钮をポイントしたときのマウスカーソルを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="cursor_click" id="cursor_click">click</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">cr で始まるカーソル定数 或者 カーソル文件（file）名</td><td class="tagattribdesc">クリック待ちのマウスカーソルを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="cursor_draggable" id="cursor_draggable">draggable</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">cr で始まるカーソル定数 或者 カーソル文件（file）名</td><td class="tagattribdesc"><a class="jump" href="#position">position</a> 指令で draggable=true としたときに、マウスが消息层をドラッグ可能な位置に来たときに表示されるマウスカーソルを指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　マウスカーソルを変更します。いずれの属性も省略すれば設定は変わりません。<br />　cr で始まるマウスカーソル定数については、吉里吉里 SDK ヘルプの「マウスカーソル定数一覧」を参照してください。また、その場合は <span class="script">default=&amp;crArrow</span> のように、定数の前に &amp; 記号をつけて指定してください。<br />　マウスカーソル文件（file）には、.cur 或者 .ani の拡張子を持つマウスカーソル文件（file）を指定することができます ( 拡張子は省略しないでください )。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="deffont" id="deffont" class="targanchor"><span class="b">deffont</span> ( 默认的文字属性设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ deffont (默认的文字属性设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_size" id="deffont_size">size</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">文字サイズ(象素单位)</td><td class="tagattribdesc">　默认の文字サイズを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_face" id="deffont_face">face</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">字体（font）名 或者 "user"</td><td class="tagattribdesc">　默认の字体（font）名を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_color" id="deffont_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　默认の文字色を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_rubysize" id="deffont_rubysize">rubysize</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ルビの文字サイズ(象素单位)</td><td class="tagattribdesc">　默认のルビの文字のサイズを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_rubyoffset" id="deffont_rubyoffset">rubyoffset</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ルビの表示オフセット(象素单位)</td><td class="tagattribdesc">　默认のルビの表示オフセットを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_shadow" id="deffont_shadow">shadow</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　默认で文字に影をつけるかを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_edge" id="deffont_edge">edge</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　默认で文字を描边文字 ( 縁取り文字 ) にするかを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_edgecolor" id="deffont_edgecolor">edgecolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　默认の文字の边缘色を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_shadowcolor" id="deffont_shadowcolor">shadowcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　默认の阴影色を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="deffont_bold" id="deffont_bold">bold</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　默认で文字を粗体文字にするかを指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　現在操作対象の消息层に対する、默认の文字属性を指定します。<br />　各属性の詳細については <a class="jump" href="#font">font</a>指令を指定してください。ただし属性の値として "default" を指定することはできません。<br />　ここで指定した属性は、<a class="jump" href="#resetfont">resetfont</a> 指令で実際に反映されます。<br />　逆に言うと、この指令を実行しただけではすぐには字体（font）の属性は反映されません。resetfont 指令を実行する必要があります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="defstyle" id="defstyle" class="targanchor"><span class="b">defstyle</span> ( 默认的文字显示格式设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ defstyle (默认的文字显示格式设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="defstyle_linespacing" id="defstyle_linespacing">linespacing</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">行間 (象素单位)</td><td class="tagattribdesc">　默认の行間を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="defstyle_pitch" id="defstyle_pitch">pitch</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">字間オフセット(象素单位)</td><td class="tagattribdesc">　默认の字間のオフセットを pixel 単位で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="defstyle_linesize" id="defstyle_linesize">linesize</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">予約サイズ(象素单位)</td><td class="tagattribdesc">　默认の行の幅を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　現在操作対象の消息层に対する、默认の行のスタイルを指定します。<br />　各属性の詳細については <a class="jump" href="#style">style</a>指令を指定してください。ただし属性の値として "default" を指定することはできません。<br />　ここで指定した属性は、<a class="jump" href="#resetstyle">resetstyle</a> 指令で実際に反映されます。<br />　逆に言うと、この指令を実行しただけではすぐには字体（font）の属性は反映されません。resetstyle 指令を実行する必要があります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="delay" id="delay" class="targanchor"><span class="b">delay</span> ( 文字显示速度设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ delay (文字显示速度设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="delay_speed" id="delay_speed">speed</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"nowait" 或者 "user" 或者ウェイトの値(毫秒为单位)</td><td class="tagattribdesc">　"nowait" を指定すると、文字の表示にウェイトをかけずに、一気に文字が表示されます。"user" を指定すると、[系统|文字速度] でユーザーが指定した速度になります(默认)。ウェイトの値を指定すると、値で示した时间につき 1 文字の速度で文字を表示します。<br />　文字表示速度は、すべての消息层で同じになります。</td></tr>
</tbody></table><div class="tagremarks">　文字の表示速度を指定します。<br />　文字表示をノーウェイトにするには <a class="jump" href="#nowait">nowait</a> 指令をつかうこともできます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="disablestore" id="disablestore" class="targanchor"><span class="b">disablestore</span> ( 暂时禁止储存/读取游戏 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ disablestore (暂时禁止储存/读取游戏) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="disablestore_store" id="disablestore_store">store</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　「栞をはさむ」の機能を使用不可にするかを指定します。<br />　使用不可にするときに true を設定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="disablestore_restore" id="disablestore_restore">restore</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　「栞をたどる」の機能を使用不可にするかを指定します。<br />　使用不可にするときに true を設定します。<br />　store 属性と違い、こちらは属性を省略するとfalse であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　「栞をはさむ」の機能を一時的に使用不可能にします。<br />　以後、セーブ可能な标签（label）を通過しない限り「栞をはさむ」の機能は使用不可能になります。<br />　KAG 起動直後は、この「使用不可能」で「栞をはさむ」が使用不可の状態になっており、セーブ可能な标签（label）を通過しない限り「栞をはさむ」の機能は使用できません。<br />　ゲームのメインメニューなど、栞をはさんでも仕方のないところに記述します。<br />　この指令に対し、<a class="jump" href="#store">store</a> 指令では栞をはさむ・たどるの両方の機能を恒久的に使用不可・可に設定できます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="edit" id="edit" class="targanchor"><span class="b">edit</span> ( 显示单行文本框 )</a></h1>
<div class="taggenre">选择框与文本输入框操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ edit (显示单行文本框) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="edit_name" id="edit_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">変数名</td><td class="tagattribdesc">　入力した文字列を格納する変数を指定します。<br />　もし変数にすでに文字列が入っていた場合は、単一行エディットの初期文字列として表示されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="edit_length" id="edit_length">length</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">幅 (pixel 単位)</td><td class="tagattribdesc">　単一行エディットの幅 ( 縦書きの場合は高さ ) をピクセル単位で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="edit_bgcolor" id="edit_bgcolor">bgcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　背景色を 0xRRGGBB 形式で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="edit_opacity" id="edit_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0(完全透明) 〜 255(完全不透明)</td><td class="tagattribdesc">　bgcolor 属性で指定した背景色の不透明度を 0 〜 255 で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="edit_color" id="edit_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　文字色を 0xRRGGBB 形式で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="edit_maxchars" id="edit_maxchars">maxchars</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">最大文字数</td><td class="tagattribdesc">　入力できる最大文字数を指定します。0 を指定すると無制限になります。<br />　默认では無制限です。</td></tr>
</tbody></table><div class="tagremarks">　現在操作対象になっている消息层の、現在の位置に、現在の字体（font）で、一行のみの文字列を編集できる入力欄(エディット)を作成します。　編集がおこなわれた文字列は、<a class="jump" href="#commit">commit</a> 指令が実行されるまで、指定した変数に代入されることはありません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="else" id="else" class="targanchor"><span class="b">else</span> ( 假如不满足 if 的条件则执行的代码段 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#if">if</a> 指令もしくは <a class="jump" href="#elsif">elsif</a> 指令と <a class="jump" href="#endif">endif</a> 指令の間で用いられます。if 或者 elsif ブロックの中身がひとつも実行されていないとき、else から endif までの間を実行します。<br />　使い方の例については、<a class="jump" href="#if">if</a> 指令の項目を参照してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="elsif" id="elsif" class="targanchor"><span class="b">elsif</span> ( 假如不满足 if 的条件，则有条件执行的代码段 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ elsif (假如不满足 if 的条件，则有条件执行的代码段) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="elsif_exp" id="elsif_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#if">if</a> 指令と <a class="jump" href="#endif">endif</a> 指令の間で用いられます。それまでの if 指令或者 elsif 指令の中身がひとつも実行されていないときに式を評価し、その結果が真ならば elsif から次の elsif・else・endif までの間を実行します。<br />　使い方の例については、<a class="jump" href="#if">if</a> 指令の項目を参照してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="emb" id="emb" class="targanchor"><span class="b">emb</span> ( 显示 TJS 式的执行结果 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ emb (显示 TJS 式的执行结果) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="emb_exp" id="emb_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。ここで評価された式の結果が、この emb 指令と置き換わります。</td></tr>
</tbody></table><div class="tagremarks">　exp で示された式を評価(実行)し、その結果を埋め込みます。<br />　変数を剧本中に表示させたい場合に使います。<br />　通常は、<a class="jump" href="#eval">eval</a> 指令で代入した 変数の内容に置き換えます。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[eval exp="f.value1='変数の値だよ〜ん'"]<br /><br />とどこかで書いておいて、<br /><br />[emb exp="f.value1"]<br /><br />と書くと、この emb 指令が 変数の値だよ〜ん という内容に置き換わります。<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endhact" id="endhact" class="targanchor"><span class="b">endhact</span> ( 消息历史记录中可执行的动作（定义结束） )</a></h1>
<div class="taggenre">消息历史记录操作</div>
<div class="para"><div><div class="tagremarks"><a class="jump" href="#hact">hact</a> 指令で設定した文字履歴アクションを終了(設定をクリア)します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endif" id="endif" class="targanchor"><span class="b">endif</span> ( 假如条件符合则执行的代码段(结束) )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#if">if</a> 指令の終了を示します。endignore とまったく同一の動作をします。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endignore" id="endignore" class="targanchor"><span class="b">endignore</span> ( 假如条件符合则不执行本段代码(结束) )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#ignore">ignore</a> 指令の終了を示します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endindent" id="endindent" class="targanchor"><span class="b">endindent</span> ( 缩进设定解除 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#indent">indent</a> 指令で設定したインデントを解除します。通常は改行の前に記述します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endlink" id="endlink" class="targanchor"><span class="b">endlink</span> ( 选择支（结束） )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#link">link</a> 指令で開始したハイパー连接（link）の終了を示します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endmacro" id="endmacro" class="targanchor"><span class="b">endmacro</span> ( 宏定义（结束） )</a></h1>
<div class="taggenre">宏操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#macro">macro</a> 指令で記述を開始した宏（macro）の終了を示します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endnowait" id="endnowait" class="targanchor"><span class="b">endnowait</span> ( 文字瞬间显示（结束） )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　文字の表示速度を、<a class="jump" href="#nowait">nowait</a> 指令でノーウェイトにする直前の文字表示速度に戻します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="endscript" id="endscript" class="targanchor"><span class="b">endscript</span> ( TJS 脚本部分(结束) )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　[<a class="jump" href="#iscript">iscript</a>] で記述したスクリプトの記述の終了を示します。<br />この指令のある行には、この指令しか書いてはいけません ( 行末の \ 記号も不可 )。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="er" id="er" class="targanchor"><span class="b">er</span> ( 清除当前消息层上的文字 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　現在の操作対象の消息层上の文字を消去します。<br />　<a class="jump" href="#ct">ct</a> 指令と違うのは、er 指令は現在の文字层上の文字を消去し、文字属性とスタイルをリセットするだけで、ct 指令のようにすべての消息层上の文字を消去したり、操作対象の层を message0 に戻したりしません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="erasebookmark" id="erasebookmark" class="targanchor"><span class="b">erasebookmark</span> ( 删除存档 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ erasebookmark (删除存档) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="erasebookmark_place" id="erasebookmark_place">place</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0或者正の整数(0が默认)</td><td class="tagattribdesc">　栞の番号を指定します。省略すると 0 が指定されたと見なされます。</td></tr>
</tbody></table><div class="tagremarks">　非フリーセーブ模式（mode）において、指定した番号の栞を消去します。栞は"(未設定)"になります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="erasemacro" id="erasemacro" class="targanchor"><span class="b">erasemacro</span> ( 删除宏 )</a></h1>
<div class="taggenre">宏操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ erasemacro (删除宏) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="erasemacro_name" id="erasemacro_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">指令名</td><td class="tagattribdesc">　消去する指令を指定します。宏（macro）として定義された指令のみを消去することが出来ます。</td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#macro">macro</a> 指令で記述した宏（macro）を消去します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="eval" id="eval" class="targanchor"><span class="b">eval</span> ( TJS 式的执行 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ eval (TJS 式的执行) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="eval_exp" id="eval_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。</td></tr>
</tbody></table><div class="tagremarks">　exp で示された式を評価します。通常は変数への値の代入に用います。<br />　exp には任意の TJS 式を指定できるので、TJS として有効な式であれば何でも評価できます。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[eval exp="f.test=500"]<br />;↑ゲーム変数 test に数値を代入している<br />[eval exp="f.test2='文字列'"]<br />;↑ゲーム変数 test2 に文字列を代入している<br />[eval exp="sf.test=400"]<br />;↑系统変数 test に数値を代入している<br />[eval exp="f.test2=f.test*3"]<br />;↑ゲーム変数 test2 に ゲーム変数 test の 3 倍の数値を代入している<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadebgm" id="fadebgm" class="targanchor"><span class="b">fadebgm</span> ( BGM 音量渐变 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadebgm (BGM 音量渐变) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadebgm_volume" id="fadebgm_volume">volume</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　フェード後に到達させる BGM の音量を % で指定します。<br />　100 が上限です。音量の抑制のみをサポートします(増幅は音源の特性上、できません)。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadebgm_time" id="fadebgm_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　フェードを行っている时间を ms 単位で指定します。3000 と指定すれば 3 秒間の間、フェードを行っています。</td></tr>
</tbody></table><div class="tagremarks">　現在演奏中の BGM を指定音量までフェードします。<br />　フェード終了後も曲は演奏されたままです。<br />　この指令はフェードの終了を待ちません。フェードの終了を待つには、<a class="jump" href="#wb">wb</a> 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadeinbgm" id="fadeinbgm" class="targanchor"><span class="b">fadeinbgm</span> ( 淡入 BGM )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadeinbgm (淡入 BGM) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinbgm_storage" id="fadeinbgm_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">BGM 文件（file）名 或者 CD トラック番号</td><td class="tagattribdesc">　演奏する BGM 文件（file）名或者 CD トラック番号を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinbgm_loop" id="fadeinbgm_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　BGM を循环するかを指定します。<br />　true を指定すると循环します。false を指定すると循环しません。<br />　省略すると true であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinbgm_time" id="fadeinbgm_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　フェードインを行っている时间を ms 単位で指定します。3000 と指定すれば 3 秒間の間、フェードインを行っています。</td></tr>
</tbody></table><div class="tagremarks">　BGM 文件（file）を演奏しますが、曲の先頭でフェードインを行います。<br />　この指令はフェードの終了を待ちません。フェードの終了を待つには、wb 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadeinse" id="fadeinse" class="targanchor"><span class="b">fadeinse</span> ( 音效淡入 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadeinse (音效淡入) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinse_buf" id="fadeinse_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　効果音を再生するバッファを指定します。一つのバッファでは同時には一つの効果音を鳴らすことができます。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinse_storage" id="fadeinse_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　演奏する効果音文件（file）名を指定します。<br />　拡張子は省略可能ですが、省略した場合に自動的に探し出されるのは.wav 或者 .ogg 或者 .mp3 の拡張子を持つ文件（file）だけです。( ただし ogg と mp3 の再生には SDK 付属のプラグインが必要 )<br />そのほかのプラグインで使用可能になるそのほかの文件（file）形式を指定する場合は拡張子も指定してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinse_time" id="fadeinse_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フェードイン时间(ms)</td><td class="tagattribdesc">　フェードインを行っている时间を毫秒単位で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeinse_loop" id="fadeinse_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　効果音を繰り返し再生するかどうかを指定します。<br />　true を指定すると繰り返し再生されます。false を指定すると一回限りの再生となります。省略するとfalse であると見なされます。<br />　true を指定した場合は <a class="jump" href="#ws">ws</a> 指令で効果音再生の終了を待つことはできません。</td></tr>
</tbody></table><div class="tagremarks">　効果音をフェードインしながら再生します。<br />　この指令はフェードの終了を待ちません。待つには <a class="jump" href="#wf">wf</a> 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadeoutbgm" id="fadeoutbgm" class="targanchor"><span class="b">fadeoutbgm</span> ( 淡出 BGM )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadeoutbgm (淡出 BGM) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadeoutbgm_time" id="fadeoutbgm_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　フェードアウトを行っている时间を ms 単位で指定します。3000 と指定すれば 3 秒間の間、フェードアウトを行っています。</td></tr>
</tbody></table><div class="tagremarks">　現在演奏中の BGM をフェードアウトします。<br />　フェードアウトが終了すると曲は自動的に停止します。<br />　この指令はフェードの終了を待ちません。フェードの終了を待つには、wb 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadeoutse" id="fadeoutse" class="targanchor"><span class="b">fadeoutse</span> ( 音效淡出 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadeoutse (音效淡出) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadeoutse_buf" id="fadeoutse_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　効果音をフェードアウトするバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadeoutse_time" id="fadeoutse_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フェードアウト时间(ms)</td><td class="tagattribdesc">　フェードアウトを行っている时间を毫秒単位で指定します。</td></tr>
</tbody></table><div class="tagremarks">　効果音をフェードアウトします。フェードアウトし終わると再生は自動的に停止します。<br />　この指令はフェードの終了を待ちません。待つには <a class="jump" href="#wf">wf</a> 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="fadese" id="fadese" class="targanchor"><span class="b">fadese</span> ( 音效渐变 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ fadese (音效渐变) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fadese_buf" id="fadese_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　効果音をフェードするバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadese_time" id="fadese_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フェード时间(ms)</td><td class="tagattribdesc">　フェードを行っている时间を毫秒単位で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fadese_volume" id="fadese_volume">volume</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　フェードの到達音量を % で指定します。　100 が上限です。音量の抑制のみをサポートします(増幅は音源の特性上、できません)。</td></tr>
</tbody></table><div class="tagremarks">　効果音を指定の到達音量までフェードします。<br />　この指令はフェードの終了を待ちません。待つには <a class="jump" href="#wf">wf</a> 指令を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="font" id="font" class="targanchor"><span class="b">font</span> ( 文字属性设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ font (文字属性设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="font_size" id="font_size">size</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">文字サイズ(象素单位) 或者 "default"</td><td class="tagattribdesc">　文字サイズを pixel 単位で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_face" id="font_face">face</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">字体（font）名 或者 "default" 或者 "user"</td><td class="tagattribdesc">　字体（font）名を指定します。<br />　字体（font）名には曖昧な指定はできません。スペース、半角／全角も正確に指定してください。<br />　複数の字体（font）名をカンマで区切って指定できます。この場合は、最初の方に書いた字体（font）が存在すれば、それが優先されて選択されます。<br />　例 : face="HG行書体,ＭＳ Ｐゴシック"<br />　縦書き用字体（font）は自動的に設定されますので、字体（font）名の先頭に @ マークをつける必要はありません。　"user" を指定すれば、メニューの [文字表示|字体（font）] でユーザが選択した字体（font）になります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_color" id="font_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 "default"</td><td class="tagattribdesc">　文字色を 0xRRGGBB 形式で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_italic" id="font_italic">italic</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false 或者 "default"</td><td class="tagattribdesc">　文字を斜体にするかどうかを指定します。true を指定すると斜体になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_rubysize" id="font_rubysize">rubysize</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ルビの文字サイズ(象素单位) 或者 "default"</td><td class="tagattribdesc">　ルビ(読み仮名)の文字のサイズを pixel 単位で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_rubyoffset" id="font_rubyoffset">rubyoffset</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ルビの表示オフセット(象素单位) 或者 "default"</td><td class="tagattribdesc">　ルビの表示オフセットを pixel 単位で指定します。負の数を指定すると本文により近い位置に表示されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_shadow" id="font_shadow">shadow</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false 或者 "default"</td><td class="tagattribdesc">　文字に影をつけるかを指定します。true を指定すると影がつきます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_edge" id="font_edge">edge</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false 或者 "default"</td><td class="tagattribdesc">　文字を描边文字 ( 縁取り文字 ) にするかを指定します。true を指定すると描边文字になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_edgecolor" id="font_edgecolor">edgecolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 "default"</td><td class="tagattribdesc">　文字の边缘色を 0xRRGGBB 形式で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_shadowcolor" id="font_shadowcolor">shadowcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 "default"</td><td class="tagattribdesc">　阴影色を 0xRRGGBB 形式で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="font_bold" id="font_bold">bold</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false 或者 "default"</td><td class="tagattribdesc">　文字を太文字にするかを指定します。 true を指定すると太文字になります。<br /></td></tr>
</tbody></table><div class="tagremarks">　文字の様々な属性を指定します。<br />　これらの属性は、消息层ごとに個別に設定できます。<br />　いずれの属性も、省略すると前の状態を引き継ぎます。また、default を指定するとConfig.tjs 内で指定した默认の値に戻ります。<br />　edge と shadow は同時に true にした場合は、描边文字のみが有効になり、影は無視されます。<br />　これらの属性は、<a class="jump" href="#resetfont">resetfont</a> タグや <a class="jump" href="#ct">ct</a> <a class="jump" href="#cm">cm</a> <a class="jump" href="#er">er</a> 指令が実行されると、Config.tjs 内や <a class="jump" href="#deffont">deffont</a> 指令で指定した默认の値に戻ります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="freeimage" id="freeimage" class="targanchor"><span class="b">freeimage</span> ( 卸载图片，释放内存 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ freeimage (卸载图片，释放内存) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="freeimage_layer" id="freeimage_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　图片を解放する层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="freeimage_page" id="freeimage_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　层の图片を解放します。<br />　とくにアニメーション情報を保持している层は、非表示にしていても CPU パワーを使用するので、不必要になった時点でこの指令を使って解放するといいかと思います。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="glyph" id="glyph" class="targanchor"><span class="b">glyph</span> ( 点击等待符号设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ glyph (点击等待符号设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_line" id="glyph_line">line</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">行末クリック待ち記号文件（file）名</td><td class="tagattribdesc">　行末クリック待ち記号图片の文件（file）名を指定します。拡張子は指定しないでください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_linekey" id="glyph_linekey">linekey</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">カラーキーを指定します。<br />　<a class="jump" href="#image">image</a>指令の key 属性を参照してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_page" id="glyph_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">改页クリック待ち記号文件（file）名</td><td class="tagattribdesc">　改页待ち記号图片の文件（file）名を指定します。<br />拡張子は指定しないでください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_pagekey" id="glyph_pagekey">pagekey</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">カラーキーを指定します。<br />　<a class="jump" href="#image">image</a>指令の key 属性を参照してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_fix" id="glyph_fix">fix</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　記号表示位置を指定位置に固定するかどうかを指定します。true を指定すると記号は left および top を指定した位置に表示されます。<br />　false を指定すると left および top 属性は無視され、記号は現在の文字表示位置に表示されるようになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_left" id="glyph_left">left</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左端位置(象素单位)</td><td class="tagattribdesc">　fix 属性を true にしたときに記号を表示する位置のうち、左端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="glyph_top" id="glyph_top">top</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上端位置(象素单位)</td><td class="tagattribdesc">　fix 属性を true にしたときに記号を表示する位置のうち、上端位置を指定します。</td></tr>
</tbody></table><div class="tagremarks">　クリック待ちに用いる图片を指定します。<br />　line や page 属性で指定された文件（file）名の图片が記号として、その文件（file）名に .asd をつけた文件（file）名が アニメーション层のスクリプトとして読み込まれます。<br />　アニメーション层用の图片やスクリプトの書き方については、AnimationLayer.tjs を参照してください。<br />　これらの設定は、消息层ごとに個別に設定できます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="goback" id="goback" class="targanchor"><span class="b">goback</span> ( 返回之前 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ goback (返回之前) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="goback_ask" id="goback_ask">ask</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、前に戻るかどうかの確認をします。false を指定すると前に戻るかどうかの確認はありません。この属性を省略すると false を指定したとみなされます。<br />　前に戻るかどうかの確認でユーザが「いいえ」を選んだ場合、実行はそのまま継続します。</td></tr>
</tbody></table><div class="tagremarks">　メニューから 系统|前に戻る を選択したときと同じ動作をします。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="gotostart" id="gotostart" class="targanchor"><span class="b">gotostart</span> ( 返回开始（如标题画面等） )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ gotostart (返回开始（如标题画面等）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="gotostart_ask" id="gotostart_ask">ask</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、最初に戻るかどうかの確認をします。false を指定すると最初に戻るかどうかの確認はありません。この属性を省略すると false を指定したとみなされます。<br />　最初に戻るかどうかの確認でユーザが「いいえ」を選んだ場合、実行はそのまま継続します。</td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#startanchor">startanchor</a> 指令で指定された場所に戻ります。<br />　メニューから 系统|最初に戻る を選択したときと同じ動作をします。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="graph" id="graph" class="targanchor"><span class="b">graph</span> ( 在消息层上显示的 graph 图片 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ graph (在消息层上显示的 graph 图片) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="graph_storage" id="graph_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　表示させたい图片文件（file）名を指定します。読み込める形式は <a class="jump" href="#image">image</a>指令で読み込める形式と同じです。　ここで指定した文件（file）名 (拡張子を除く) 部分に _m を追加した文件（file）が、もしあれば、マスク图片として読み込まれます。マスク图片は必ず 256 色グレースケールで保存してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="graph_key" id="graph_key">key</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">　どの色を抜き色とするかを指定します。省略すると抜き色は無効になります。 　key=0xRRGGBB という形式で 16 進数で抜き色を指定すると、RR(赤) GG(緑) BB(青)で塗られた部分を抜き色として透明にします。たとえば、key=0xff00ff では (r,g,b)=(255,0,255) つまり真マゼンダの部分を抜き色として透明にするという指定になります。<br />　ただ単に数値を指定すれば、そのパレットインデックスの数値が抜き色となります。16色/256色の图片に対して有効です。<br />　key=adapt と指定すれば、自動的に抜き色が決定されます。使用される抜き色は、图片の一番上のラインにて、一番多く使われている色です。16色/256色の图片に対して有効です。<br />　マスク图片を使用する場合は、この指令を指定する必要はありません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="graph_char" id="graph_char">char</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true (默认) 或者 false</td><td class="tagattribdesc">　true を指定すると、图片は<a class="jump" href="#font">font</a> 指令で指定した色、影、描边文字の状態が、文字同様に表示されます。そのため、true を設定すると图片の色情報は無視されます。また、图片が影や描边文字である必要はありません。<br />　graph 指令が特殊記号の表示に使われることが多いことを想定して默认では true になっているので、普通の图片を表示する場合は注意してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="graph_alt" id="graph_alt">alt</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">代替文字</td><td class="tagattribdesc">　文字履歴に表示する、この图片の代替文字を指定します。文字履歴は文字情報しか表示できませんので、alt 属性に指定された文字が代わりに表示されます。</td></tr>
</tbody></table><div class="tagremarks">　任意の图片を消息层の文字位置に表示します。<br />　読み込み可能な形式は <a class="jump" href="#image">image</a> 指令で表示することのできる前景图片と同じです。<br />　通常は、普通の字体（font）では含まれていないような特殊な記号を图片として用意し、それを表示させる用途に使用します。<br />　記号でなく、图片を表示する場合は char 属性に false を指定してください。<br />　よく使う記号は宏（macro）を組んでおくと楽かと思います。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
; heart にはハートマークの图片<br />[macro name="heart"][graph storage="heart" alt="(は〜と)"][endmacro]<br />; 以後、[heart] 指令でハートマークを使用可能<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="hact" id="hact" class="targanchor"><span class="b">hact</span> ( 定义消息历史记录中可执行的动作（如语音回放） )</a></h1>
<div class="taggenre">消息历史记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ hact (定义消息历史记录中可执行的动作（如语音回放）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="hact_exp" id="hact_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS式</td><td class="tagattribdesc">　文字をクリックしたときに実行する TJS 式を指定します。</td></tr>
</tbody></table><div class="tagremarks">　文字履歴に対するアクションを指定します。この指令と <a class="jump" href="#endhact">endhact</a> 指令で囲まれた部分は、文字履歴上でクリックできるようになり、クリックされた時に実行する TJS 式を指定することができます。過去に文字と共に再生した声を、文字履歴のクリックで再生できるようにするなどに応用できます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="hch" id="hch" class="targanchor"><span class="b">hch</span> ( 竖行文字中横写的文字 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ hch (竖行文字中横写的文字) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="hch_text" id="hch_text">text</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文字</td><td class="tagattribdesc">　ここで指定した文字がそこだけ横書きで表示されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="hch_expand" id="hch_expand">expand</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、長い縦中横を描画しようとしたときに行間を自動的に拡張します。false を指定すると、縦中横が行からはみ出て正常に描画されない可能性がありますが、行間はそのままになります ( 通常半角２桁ならば false で OK )。<br />この属性を指定しないと false であると見なされます。<br /><br /></td></tr>
</tbody></table><div class="tagremarks">　縦中横 ( 縦書き中に算用数字２桁を書くような場合にそこだけ横書きにする書き方 ) で文字を表示します。<br />　現在対象となっている消息层が縦書き模式（mode）である必要があります。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
今日は平成[hch text="15"]年[hch text="12"]月[hch text="30"]日
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="hidemessage" id="hidemessage" class="targanchor"><span class="b">hidemessage</span> ( 隐藏消息层 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　消息层を一時的に隠します。メニューから「文字を消す」を選んだのと同じ動作を行います。<br />　クリック待ちを行った後、消息层は表示され、実行は継続します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="history" id="history" class="targanchor"><span class="b">history</span> ( 消息历史记录设定 )</a></h1>
<div class="taggenre">消息历史记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ history (消息历史记录设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="history_output" id="history_output">output</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　文字履歴への文字情報の出力をするかどうかを指定します。<br />　true を指定すると、消息层に表示した文字が文字履歴に表示されるようになります。<br />　剧本を最初に実行したときは true の状態になっています。<br />　false を指定すると文字履歴には文字情報は出力されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="history_enabled" id="history_enabled">enabled</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　文字履歴を表示可能かどうかを指定します。<br />　true を指定すると表示可能に、false を指定すると表示不可能になります。<br />　ユーザーに文字履歴を表示させたくない場合に false にしてください。</td></tr>
</tbody></table><div class="tagremarks">　文字履歴の機能に関する設定を行います。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="hr" id="hr" class="targanchor"><span class="b">hr</span> ( 在消息历史记录中换行/换页 )</a></h1>
<div class="taggenre">消息历史记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ hr (在消息历史记录中换行/换页) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="hr_repage" id="hr_repage">repage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　改页を行うかどうかを指定します。<br />　true を指定すると改行ではなく改页が行われます。false を指定すると改行が行われます。<br />　この属性を省略すると false が指定されたと見なされます。<br />　改页は、Config.tjs の文字履歴の設定で everypage が true になってないと動作しません。<br /></td></tr>
</tbody></table><div class="tagremarks">　文字履歴を改行或者改页します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="if" id="if" class="targanchor"><span class="b">if</span> ( 假如条件符合则执行本段代码 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ if (假如条件符合则执行本段代码) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="if_exp" id="if_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。この式の結果が false ( 或者 0 ならば、elsif・else・endif 指令までの文章や指令が無視されます。<br /></td></tr>
</tbody></table><div class="tagremarks">式を評価し、その結果が true ( 或者 0 以外 ) ならば、elsif・else・endif のいずれかまでにある文章や指令を実行し、そうでない場合は無視します。<br />　if 〜 endif の間には标签（label）を挟まないでください。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
; 例1[if exp="false"]<br />ここは表示されない<br />[else]<br />ここは表示される<br />[endif]<br /><br />; 例2[if exp="false"]<br />ここは表示されない<br />[elsif exp="false"]<br />ここは表示されない<br />[else]<br />ここは表示される<br />[endif]<br /><br />; 例3[if exp="false"]<br />ここは表示されない<br />[elsif exp="true"]<br />ここは表示される<br />[else]<br />ここは表示されない<br />[endif]<br /><br />; 例4[if exp="true"]<br />ここは表示される<br />[elsif exp="true"]<br />ここは表示されない<br />[else]<br />ここは表示されない<br />[endif]<br /><br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ignore" id="ignore" class="targanchor"><span class="b">ignore</span> ( 假如条件符合则不执行本段代码 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ ignore (假如条件符合则不执行本段代码) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="ignore_exp" id="ignore_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。この式の結果が true ( 或者 0 以外 )ならば、endignore 指令までの文章や指令が無視されます。<br /></td></tr>
</tbody></table><div class="tagremarks">　式を評価し、その結果が true ( 或者 0 以外 ) ならば、endignore 指令までにある文章や指令が無視されます。<br />　ignore 〜 endignore の間には标签（label）を挟まないでください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="image" id="image" class="targanchor"><span class="b">image</span> ( 载入图片（备显示用） )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ image (载入图片（备显示用）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="image_storage" id="image_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　読み込みたい图片を指定します。拡張子は省略可能です。<br />　ここで指定した文件（file）名 (拡張子を除く) 部分に _m を追加した文件（file）が、もしあれば、マスク图片として読み込まれます。　また、同様に _p を追加した文件（file）が、もしあれば、クリッカブルマップ用の領域图片として読み込まれます。<br />　マスク图片は必ず 256 色グレースケールで保存してください。<br />　領域图片はかならず 256 色で保存してください。<br />　また、拡張子が asd の文件（file）が存在すればアニメーションシーケンスデータとしてアニメーションの情報も読み込みまれ、拡張子が ma の文件（file）が存在すれば、クリッカブルマップ用の領域アクション定義文件（file）として読み込まれます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_layer" id="image_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　图片を読み込む层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层に图片を読み込みます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_page" id="image_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_key" id="image_key">key</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">　どの色を抜き色とするかを指定します。省略すると抜き色は無効になります。 <br />　key=0xRRGGBB という形式で 16 進数で抜き色を指定すると、RR(赤) GG(緑) BB(青)で塗られた部分を抜き色として透明にします。たとえば、key=0xff00ff では (r,g,b)=(255,0,255) つまり真マゼンダの部分を抜き色として透明にするという指定になります。<br />　ただ単に数値を指定すれば、そのパレットインデックスの数値が抜き色となります。16色/256色の图片に対して有効です。<br />　key=adapt と指定すれば、自動的に抜き色が決定されます。使用される抜き色は、图片の一番上のラインにて、一番多く使われている色です。16色/256色の图片に対して有効です。<br />　マスク图片を使用する場合は、この属性は指定する必要はありません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_mode" id="image_mode">mode</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"alpha"(默认) 或者 "transp" "opaque" "rect" "add" "sub" "mul" "dodge" "darken" "lighten" "screen" "psadd" "pssub" "psmul" "psscreen" "psoverlay" "pshlight" "psslight" "psdodge" "psdodge5" "psburn" "pslighten" "psdarken" "psdiff" "psdiff5" "psexcl" のいずれか</td><td class="tagattribdesc">　前景层の透過模式（mode）を指定します。前景层以外には指定しないでください。<br />　"alpha" 或者 "transp" を指定するとαチャネルが有効になって图片を透過して表示することができます。"alpha" でも "transp" でも同じ意味です。<br />　"opaque" 或者 "rect" を指定すると图片は透過されません (矩形で表示されます)。"opaque" でも "rect" でも同じ意味です。<br />　"addalpha" を指定すると、图片を透過して表示することができます。"alpha" はアルファ合成ですが、"addalpha" は加算アルファ合成を表します。この違いについては「吉里吉里２ リファレンス」を参照してください。<br />　"add" を指定すると加算合成が行われます。<br />　"sub" を指定すると減算合成が行われます。<br />　"mul" を指定すると乗算合成が行われます。<br />　"dodge" を指定すると「覆い焼き」合成が行われます。<br />　"darken" を指定すると「比較(暗)」合成が行われます。<br />　"lighten" を指定すると「比較(明)」合成が行われます。<br />　"screen" を指定すると「スクリーン乗算」合成が行われます。<br />　"psadd" を指定すると、Photoshop互換の「覆い焼き(リニア)」合成が行われます。<br />　"pssub" を指定すると、Photoshop互換の「焼き込み(リニア)」合成が行われます。<br />　"psmul" を指定すると、Photoshop互換の「乗算」合成が行われます。<br />　"psscreen" を指定すると、Photoshop互換の「スクリーン」合成が行われます。<br />　"psoverlay" を指定すると、Photoshop互換の「オーバーレイ」合成が行われます。<br />　"pshlight" を指定すると、Photoshop互換の「ハードライト」合成が行われます。<br />　"psslight" を指定すると、Photoshop互換の「ソフトライト」合成が行われます。<br />　"psdodge" を指定すると、Photoshop互換の「覆い焼きカラー」合成が行われます。<br />　"psdodge5" を指定すると、Photoshop互換の「覆い焼きカラー」合成(Photoshop 5.x 以下と互換)が行われます。<br />　"psburn" を指定すると、Photoshop互換の「焼き込みカラー」合成が行われます。<br />　"pslighten" を指定すると、Photoshop互換の「比較(明)」合成が行われます。<br />　"psdarken" を指定すると、Photoshop互換の「比較(暗)」合成が行われます。<br />　"psdiff" を指定すると、Photoshop互換の「差の絶対値」合成が行われます。<br />　"psdiff5" を指定すると、Photoshop互換の「差の絶対値」合成(Photoshop 5.x 以下と互換)が行われます。<br />　"psexcl" を指定すると、Photoshop互換の「除外」合成が行われます。<br />　透明度情報を持たない图片を指定する場合は "opaque" に指定する方が負荷が軽くて済みます。<br /><br />　省略すると "alpha" であるとみなされます。例外的に、TLG5/6 图片の場合は、图片中に透過模式（mode）を表す情報が埋め込まれています。この場合は、この属性を省略すると、その图片が情報として持っている透過模式（mode）に従って表示されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_grayscale" id="image_grayscale">grayscale</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　图片をグレースケールにするかどうかを指定します。grayscale=true と指定すると、图片をグレースケールにします。省略すると false であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_rgamma" id="image_rgamma">rgamma</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ガンマ補正値 (0.1 〜 1.0(默认) 〜 9.9)</td><td class="tagattribdesc">　r (赤) 、g (緑) 、 b (青) の各成分のガンマ値を指定します。 たとえば图片をセピア調にするには、<span class="script">grayscale=true rgamma=1.3 ggamma=1.1</span> と指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_ggamma" id="image_ggamma">ggamma</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ガンマ補正値 (0.1 〜 1.0(默认) 〜 9.9)</td><td class="tagattribdesc">　r (赤) 、g (緑) 、 b (青) の各成分のガンマ値を指定します。 たとえば图片をセピア調にするには、<span class="script">grayscale=true rgamma=1.3 ggamma=1.1</span> と指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_bgamma" id="image_bgamma">bgamma</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ガンマ補正値 (0.1 〜 1.0(默认) 〜 9.9)</td><td class="tagattribdesc">　r (赤) 、g (緑) 、 b (青) の各成分のガンマ値を指定します。 たとえば图片をセピア調にするには、<span class="script">grayscale=true rgamma=1.3 ggamma=1.1</span> と指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_rfloor" id="image_rfloor">rfloor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最低値 ( 0(默认) 〜 255 )</td><td class="tagattribdesc">　各成分の輝度最低値を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_gfloor" id="image_gfloor">gfloor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最低値 ( 0(默认) 〜 255 )</td><td class="tagattribdesc">　各成分の輝度最低値を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_bfloor" id="image_bfloor">bfloor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最低値 ( 0(默认) 〜 255 )</td><td class="tagattribdesc">　各成分の輝度最低値を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_rceil" id="image_rceil">rceil</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最高値 ( 0 〜 255(默认) )</td><td class="tagattribdesc">　各成分の輝度最高値を指定します。 たとえば、<span class="script">rfloor=255 gfloor=255 bfloor=255 rceil=0 gceil=0 bceil=0</span> と指定すると、色が反転します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_gceil" id="image_gceil">gceil</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最高値 ( 0 〜 255(默认) )</td><td class="tagattribdesc">　各成分の輝度最高値を指定します。 たとえば、<span class="script">rfloor=255 gfloor=255 bfloor=255 rceil=0 gceil=0 bceil=0</span> と指定すると、色が反転します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_bceil" id="image_bceil">bceil</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">輝度最高値 ( 0 〜 255(默认) )</td><td class="tagattribdesc">　各成分の輝度最高値を指定します。 たとえば、<span class="script">rfloor=255 gfloor=255 bfloor=255 rceil=0 gceil=0 bceil=0</span> と指定すると、色が反転します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_mcolor" id="image_mcolor">mcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　色ブレンドによる色調効果において、ブレンドする色を 0xRRGGBB 形式で指定します。濃度は mopacity 属性で指定します。<br />　省略すると色ブレンドによる色調効果は行われません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_mopacity" id="image_mopacity">mopacity</a></td><td class="tagattribrequired">mcolor を指定した場合</td><td class="tagattribformat">不透明度(0 〜 255)</td><td class="tagattribdesc">　色ブレンドによる色調効果で、mcolor で指定した色をどれぐらいの不透明度でブレンドするかを指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_clipleft" id="image_clipleft">clipleft</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">クリップ矩形左端位置(象素单位)</td><td class="tagattribdesc">　图片クリップ矩形の左端位置を指定します。clipleft, cliptop, clipwidth, clipheight で矩形を指定すると、storage 属性で指定された图片のその矩形のみが切り取られ、指定された层の图片になります。图片の一部だけを切り取って表示したいときなどに使用します。<br />　これらの属性を省略すると、storage 属性で指定された图片全部が层の图片になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_cliptop" id="image_cliptop">cliptop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">クリップ矩形上端位置(象素单位)</td><td class="tagattribdesc">　图片クリップ矩形の上端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_clipwidth" id="image_clipwidth">clipwidth</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">クリップ矩形幅(象素单位)</td><td class="tagattribdesc">　图片クリップ矩形の幅を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_clipheight" id="image_clipheight">clipheight</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">クリップ矩形高さ(象素单位)</td><td class="tagattribdesc">　图片クリップ矩形の高さを指定します</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_flipud" id="image_flipud">flipud</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　图片の上下反転を行いたい場合に true を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_fliplr" id="image_fliplr">fliplr</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　图片の左右反転を行いたい場合に true を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_visible" id="image_visible">visible</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　layer 属性で指定した层を表示するか、しないかを指定します。visible=true と指定すれば、层は表示状態になります。visible=false と指定すれば、非表示状態になります。省略すると表示状態は変わりません。layer=base を指定した場合はこの属性は指定しないでください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_left" id="image_left">left</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左端位置(象素单位)</td><td class="tagattribdesc">　layer 属性で指定した层の左端位置を指定します。省略すると、图片読み込み前の位置を保持します。layer=base と指定した場合はこの属性は指定しないでください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_top" id="image_top">top</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上端位置(象素单位)</td><td class="tagattribdesc">　layer 属性で指定した层の上端位置を指定します。省略すると、图片読み込み前の位置を保持します。layer=base と指定した場合はこの属性は指定しないでください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_pos" id="image_pos">pos</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">left 或者 left_center 或者 center 或者 right_center 或者 right</td><td class="tagattribdesc">　层位置を自動的に決定します。前景层に対して使います。<br />　横方向の位置は、この属性で指定した left ( 左端 ) 、left_center ( 左より )、center ( 中央 )、right_center ( 右より )、right ( 右端 ) の位置に表示されます。各横方向の座標の中心位置は Config.tjs で指定することができます。<br />　left, left_center, center, right_center, right の代わりに、それぞれ l, lc, c, rc, r を指定することもできます ( 動作は同じです )。<br />　縦方向の位置については、层の下端は画面の下端に合わせて ( 下側に詰められて ) 表示されます。<br />　この属性を指定した場合は left 属性や top 属性は無視されます。<br />　layer=base と指定した場合にはこの属性は指定しないでください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_opacity" id="image_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">不透明度 ( 0 (全くの透明) 〜 255 (全くの不透明 ) )</td><td class="tagattribdesc">　layer 属性で指定した层の不透明度を指定します。<br />　默认で 255 (全くの不透明) です。つまり、この属性を指定しないで图片を読み込むと、その层の opacity が 255 以外でも、255 に設定しなおされます。<br />　128 を指定すると半分程度の透明度になり、透けて表示されます。<br />　opacity=0 としても层を見えなくすることが出来ますが、全くの透明になっただけで非表示になるわけではありません。<br />　この属性を設定しても层の图片自体が変化するわけではありません。変化するのは表示の状態です。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_mapimage" id="image_mapimage">mapimage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　クリッカブルマップに用いる領域图片を指定します。<br />　ここで指定を行わなくても、storage 属性で指定した文件（file）名 (拡張子を除く) 部分に_p を追加した文件（file）が もしあれば自動的に領域图片として読み込まれますが、別の文件（file）を代わりに読み込みたい場合にこの属性を用います。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_mapaction" id="image_mapaction">mapaction</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">領域アクション定義文件（file）名</td><td class="tagattribdesc">　クリッカブルマップに用いる領域アクション定義文件（file）を指定します。<br />　ここで指定しなくても、storage 属性で指定した文件（file）名と同名で拡張子が ma の文件（file）があれば自動的に涼気アクション定義文件（file）として読み込まれますが、別の文件（file）を代わりに読み込みたい場合にこの属性を用います。<br />　拡張子 ( 通常は .ma ) は省略できませんので拡張子も含めて指定してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="image_index" id="image_index">index</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">正の整数</td><td class="tagattribdesc">　背景层には指定しないでください。<br />　重ね合わせ順序を指定します。値が大きいほど手前に表示されます。<br />　標準では、前景层 0 が 1000、前景层 1 が 2000 ( 以降 1000 ずつ増える )、消息层 0 が 1000000、消息层 1 が 1001000 ( 以降 1000 ずつ増える )、　文字履歴を表示するための层が 2000000 となっています。<br />　背景层の重ね合わせ順序は変更することはできません。<br />　<a class="jump" href="#laycount">laycount</a> 指令を実行すると、この重ね合わせ順序は標準の状態に戻されてしまう場合があるので注意してください。<br /></td></tr>
</tbody></table><div class="tagremarks">　图片を読み込みます。img でも image でも同じ意味です。多くの属性がありますが、必須なのは storage と layer のみです。<br />　前景层は KAG 初期状態では非表示状態なので、visible=true とすれば表示されるようになります。<br /><br />　色調補正は読み込む图片に対して、<br />・grayscale によるグレースケール化<br />・?gamma , ?floor , ?ceil によるガンマ補正<br />・mcolor, mopacity による色ブレンド<br />の順番で行われます。<br />　アニメーション情報の作成の方法は AnimationLayer.tjs 内を参照してください。<br />　クリッカブルマップの使い方については KAG 系统リファレンスを参照してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="indent" id="indent" class="targanchor"><span class="b">indent</span> ( 缩进设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　この指令の位置に左インデント ( 縦書きの場合は頭インデント ) を設定します。発言者インデントなどとして使うことができます。インデントを解除する場合は、改行の前に <a class="jump" href="#endindent">endindent</a> 指令を使用します。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
【あんぱん】[indent]このように発言者インデントなどとして使うことができます。[endindent]
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="input" id="input" class="targanchor"><span class="b">input</span> ( 输入文字列 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ input (输入文字列) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="input_name" id="input_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">変数名</td><td class="tagattribdesc">　入力したい文字列を格納する変数を指定します。<br />　もし変数にすでに文字列が入っていた場合は、その文字列がダイアログボックスの初期文字列として表示されます。<br />　ユーザーがダイアログボックスのキャンセル按钮や ESC キーを押したときは変数の値は変わりません。<br />　変数には KAG からアクセスできるすべての変数を指定することができます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="input_prompt" id="input_prompt">prompt</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">プロンプトとして表示する文字列</td><td class="tagattribdesc">　ダイアログボックスのプロンプト ( 入力欄のすぐ上に表示される文字列 ) を指定します。省略すると空欄になります。<br />　「名前を入力してください」などにします。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="input_title" id="input_title">title</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ダイアログボックスのタイトル</td><td class="tagattribdesc">　ダイアログボックスのタイトルを指定します。<br />　省略するとタイトルは空欄になります。<br />　「名前の入力」などにします。</td></tr>
</tbody></table><div class="tagremarks">　文字列を入力するためにダイアログボックスを開き、ユーザーに入力を求めます。<br />　ユーザー名の入力などに使用することができます。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[eval exp="f.username='太郎'"]<br />[input name=f.username prompt="名前を入力してください" title="名前の入力"]<br />名前は : [emb exp=f.username]<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="iscript" id="iscript" class="targanchor"><span class="b">iscript</span> ( TJS 脚本代码段 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><div class="tagremarks">　[iscript] のみの行と、[<a class="jump" href="#endscript">endscript</a>] のみの行で囲まれた部分に TJS スクリプトを書き込むことが出来ます。<br />　[iscript] のみの行というのは、その行には [iscript] 指令のみしか記述してはいけないと言うことです(endscript も同様)。<br />　また、宏（macro）中にこの指令を書くことはできません。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[iscript]<br />kag.restoreBookMark(0); // 0 番目の栞をたどる<br />[endscript]<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="jump" id="jump" class="targanchor"><span class="b">jump</span> ( 跳转到剧本档中的某个标签 )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ jump (跳转到剧本档中的某个标签) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="jump_storage" id="jump_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">剧本文件（file）名</td><td class="tagattribdesc">　跳转先の剧本文件（file）を指定します。省略すると、現在の剧本文件（file）内であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="jump_target" id="jump_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）名</td><td class="tagattribdesc">　跳转先の标签（label）を指定します。<br />　省略すると、文件（file）の先頭から実行されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="jump_countpage" id="jump_countpage">countpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　他の标签（label）に移行するときに、この指令のある場所の标签（label）を「読んだ」とみなすかどうかを指定します。<br />　跳转する際にその页が「読んだ」ことになっては困る場合に false を指定します。</td></tr>
</tbody></table><div class="tagremarks">　指定された剧本文件（file）の指定された标签（label）に跳转します。<br />　サブルーチン内で跳转する場合は、call 〜 return のバランスに注意してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="l" id="l" class="targanchor"><span class="b">l</span> ( 行末等待玩家点击 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　行末のクリック待ちを行います。<a class="jump" href="#p">p</a> 指令とは、文字履歴への改行の出力の違いや、「文字表示 &gt; 页末まで一気に」を使用したときの挙動の違いなどがあります。<br />　<a class="jump" href="#current">current</a> 指令で裏页の消息层を指定している場合はこの記号は表示されません。表示したい場合は表页の消息层を指定してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="laycount" id="laycount" class="targanchor"><span class="b">laycount</span> ( 改变层数量 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ laycount (改变层数量) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="laycount_layers" id="laycount_layers">layers</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0 或者正の整数</td><td class="tagattribdesc">　前景层の数を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="laycount_messages" id="laycount_messages">messages</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">正の整数</td><td class="tagattribdesc">　消息层の数を指定します。<br />　0 は指定できません。</td></tr>
</tbody></table><div class="tagremarks">　前景层或者消息层の数を変更します。いずれの属性も省略すれば設定は変更されません。<br />　层数に制限はありませんが、実行環境の OS やメモリによって制限を受ける可能性があります。<br />　层の数は必要最小限にしておくべきです。たくさんの层を確保してそれを使い終わったら、なるべく必要最小限の状態に戻しておくのが良いでしょう。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="layopt" id="layopt" class="targanchor"><span class="b">layopt</span> ( 层属性设定 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ layopt (层属性设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_layer" id="layopt_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">0 以上的整数或者 message0 或者 message1 或者 message</td><td class="tagattribdesc">　対象となる前景层或者消息层を指定します。　message とのみ指定した場合は、<a class="jump" href="#current">current</a>指令で指定した、現在の操作対象の消息层が対象となります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_page" id="layopt_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"fore"(默认) 或者 "back"</td><td class="tagattribdesc">　 表(fore)画面の层を対象とするか、裏(back)画面の层を対象とするかを指定します。省略すると表页であると見なされます。<br />　ただし、layer=message とのみ指定した場合でこの属性を省略した場合は現在操作対象の页の消息层が選択されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_visible" id="layopt_visible">visible</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　layer 属性で指定した层を表示するか、しないかを指定します。visible=true と指定すれば、层は表示状態になります。visible=false と指定すれば、非表示状態になります。省略すると表示状態は変わりません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_left" id="layopt_left">left</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左端位置(象素单位)</td><td class="tagattribdesc">　layer 属性で指定した层の左端位置を指定します。省略すると位置は変更しません。<br />　layer 属性に message0 や message1 を指定した場合は、むしろ<a class="jump" href="#position">position</a> 指令で位置等を指定してください。<br />　ただし、position 指令は消息层をクリアしてしまいますが、この指令ではクリアしません。内容を維持したまま表示位置を変えたい場合はこの指令を使います。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_top" id="layopt_top">top</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上端位置(象素单位)</td><td class="tagattribdesc">　layer 属性で指定した层の上端位置を指定します。省略すると位置は変更しません。<br />　layer 属性に message0 や message1 を指定した場合は、むしろ<a class="jump" href="#position">position</a> 指令で位置等を指定してください。<br />　ただし、position 指令は消息层をクリアしてしまいますが、この指令ではクリアしません。内容を維持したまま表示位置を変えたい場合はこの指令を使います。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_opacity" id="layopt_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">不透明度 ( 0 (全くの透明) 〜 255 (全くの不透明 ) )</td><td class="tagattribdesc">　层の不透明度を指定します。<br />　默认で 255 (全くの不透明) です。128 を指定すると半分程度の透明度になり、透けて表示されます。<br />　opacity=0 としても层を見えなくすることが出来ますが、全くの透明になっただけで非表示になるわけではありません。<br />　また、この属性を設定しても层の图片自体が変化するわけではありません。たとえば opacity=128 として半透明にした後に 255 に戻しても正常に表示されます。<br />　消息层に対してもこの属性を指定できますが、<a class="jump" href="#position">position</a> 指令で指定する opacity 属性とは意味が違います。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_autohide" id="layopt_autohide">autohide</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　前景层以外には指定しないでください。<br />　[系统|文字を消す] メニューを選択したときに消息层が隠れますが、それと同時にこの前景层も隠すかどうかを指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="layopt_index" id="layopt_index">index</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">正の整数</td><td class="tagattribdesc">　背景层には指定しないでください。<br />　重ね合わせ順序を指定します。値が大きいほど手前に表示されます。<br />　標準では、前景层 0 が 1000、前景层 1 が 2000 ( 以降 1000 ずつ増える )、消息层 0 が 1000000、消息层 1 が 1001000 ( 以降 1000 ずつ増える )、　文字履歴を表示するための层が 2000000 となっています。<br />　背景层の重ね合わせ順序は変更することはできません。<br />　<a class="jump" href="#laycount">laycount</a> 指令を実行すると、この重ね合わせ順序は標準の状態に戻されてしまう場合があるので注意してください。<br /></td></tr>
</tbody></table><div class="tagremarks">　层の属性を指定します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="link" id="link" class="targanchor"><span class="b">link</span> ( 显示选择支 )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ link (显示选择支) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="link_storage" id="link_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">剧本文件（file）名</td><td class="tagattribdesc">　跳转先の剧本文件（file）を指定します。省略すると、現在の剧本文件（file）内であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_target" id="link_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）名</td><td class="tagattribdesc">　跳转先の标签（label）を指定します。<br />　省略すると、文件（file）の先頭から実行されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_exp" id="link_exp">exp</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　クリックされたときに実行される TJS 式を指定します。省略すれば式は実行されません。storage や target が指定されていた場合、この式が実行されてから跳转先に移動します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_color" id="link_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　连接（link）が選択されたときに出る半透明の矩形の色を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_hint" id="link_hint">hint</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ヒントとして表示させる文字列</td><td class="tagattribdesc">　连接（link）を選択し、マウスカーソルを静止させたときに表示されるツールチップヒントを指定します。<br />　省略すると表示は行われません。<br />　连接（link）の説明の補足に使えますが、hint 属性のみを指定し、target, storage, exp 属性は指定しないで空の连接（link）を作成し、小難しい単語の説明をすることなどもできます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_onenter" id="link_onenter">onenter</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　连接（link）内にマウスカーソルが入ってきたときに実行される TJS 式を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_onleave" id="link_onleave">onleave</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　连接（link）内からマウスカーソルが出ていった時に実行される TJS 式を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_countpage" id="link_countpage">countpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　连接（link）を選択して他の标签（label）に移行するときに、この连接（link）のある場所の标签（label）を「読んだ」とみなすかどうかを指定します。<br />　[s] 指令を実行する前に连接（link）が選択されて跳转する際に、その页が「読んだ」ことになっては困る場合に false を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_clickse" id="link_clickse">clickse</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　クリックされたときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_clicksebuf" id="link_clicksebuf">clicksebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　clickse で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_enterse" id="link_enterse">enterse</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　マウスが進入したときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_entersebuf" id="link_entersebuf">entersebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　enterse で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_leavese" id="link_leavese">leavese</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　マウスが退出したときに再生する効果音を指定します。指定しなければ効果音は再生されません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="link_leavesebuf" id="link_leavesebuf">leavesebuf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号</td><td class="tagattribdesc">　leavese で指定した効果音を鳴らす効果音バッファを指定します。省略すると 0 であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　link 指令と <a class="jump" href="#endlink">endlink</a> 指令で囲まれた部分の文章を、マウスやキーボードで選択可能にし、そこでクリックされたりキーを押されたときに、跳转する先を指定できます。<br />exp 属性を指定すれば、连接（link）をクリックされたときに変数に値を代入するというような動作も行わせることができます。<br />　囲まれた文章は、页をまたぐことは出来ません(行をまたぐことはできます)。<br />　一画面中に最大で 255 個の连接（link）を作成することができます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="load" id="load" class="targanchor"><span class="b">load</span> ( 读取游戏 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ load (读取游戏) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="load_place" id="load_place">place</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0或者正の整数(0が默认)</td><td class="tagattribdesc">　栞の番号を指定します。省略すると 0 が指定されたと見なされます。<br />　どのような数値を指定してもかまいませんが、999 〜 1999 は特別な意味を持つ栞です。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="load_ask" id="load_ask">ask</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、栞をたどるかどうかの確認をします。false を指定すると栞をたどるかどうかの確認はありません。この属性を省略すると false を指定したとみなされます。<br />　栞をたどる確認でユーザが「いいえ」を選んだ場合、実行はそのまま継続します。</td></tr>
</tbody></table><div class="tagremarks">　非フリーセーブ模式（mode）において、栞から読み込みます。メニューから「栞をたどる」を選んだときと同じ動作です。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="loadplugin" id="loadplugin" class="targanchor"><span class="b">loadplugin</span> ( 读入插件 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ loadplugin (读入插件) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="loadplugin_module" id="loadplugin_module">module</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">プラグイン文件（file）名</td><td class="tagattribdesc">読み込みたいプラグイン文件（file）名を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　この指令で読み込むプラグインは、<br />・プロジェクトフォルダ直下<br />・吉里吉里実行可能文件（file）のあるフォルダ以下の plugin フォルダ<br />・吉里吉里実行可能文件（file）のあるフォルダ<br />のいずれかに置いておく必要があります。<br />　module 属性で指定するプラグインの拡張子は省略できません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="locate" id="locate" class="targanchor"><span class="b">locate</span> ( 文字显示位置指定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ locate (文字显示位置指定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="locate_x" id="locate_x">x</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">横方向位置 (象素单位)</td><td class="tagattribdesc">　文字を表示する x 座標位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="locate_y" id="locate_y">y</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">縦方向位置 (象素单位)</td><td class="tagattribdesc">　文字を表示する y 座標位置を指定します。</td></tr>
</tbody></table><div class="tagremarks">　文字表示位置を指定します。<br />　<a class="jump" href="#position">position</a> 指令で指定した marginl と margint の属性の値が実際には加算されます。<br />　横書きの場合は y を、縦書きの場合は x を省略することにより同じ行内での文字表示位置の変更が可能となります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="locklink" id="locklink" class="targanchor"><span class="b">locklink</span> ( 之前定义的选择支·按钮暂时无效化 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　すべての消息层の连接（link）をロックします。连接（link）がロックされると、消息层上の连接（link） ( 按钮、エディット、チェックボックスも含む ) はすべて選択や操作が不能になります。<br />　时间制限付きの選択肢などで、时间を経過したら選択肢を選択不能にする場合などに使用します。<br />　连接（link）のロックは、新しい別の连接（link）が作成されると自動的に解除されます。<br />　逆の動作をする <a class="jump" href="#unlocklink">unlocklink</a> 指令もあります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="locksnapshot" id="locksnapshot" class="targanchor"><span class="b">locksnapshot</span> ( 锁定屏幕截图（存档记录用画面） )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><div class="tagremarks">　スナップショットをロックします。栞でサムネイルを保存する場合に画面のスナップショットを撮りますが、スナップショットをロックすると、次に<a class="jump" href="#unlocksnapshot">unlocksnapshot</a> 指令でロックを解除するまで、スナップショットをロックした時点での图片をサムネイルとして保存するようになります。<br />　これを利用して、右クリックサブルーチンに入ったときにこの指令を使用すれば、右クリックサブルーチン内で栞を保存しても、保存されるサムネイルは右クリックサブルーチンに入ったときのスナップショットが使われるようになります ( ロックをしないと右クリックサブルーチンに入っている最中のスナップショットが保存されてしまう )。<br />　locksnapshot 指令を使ったら、かならず unlocksnapshot 指令も使用しなければなりません ( 右クリックサブルーチンに使ったならば、右クリックサブルーチンを抜けるときには必ず unlocksnapshot 指令を実行するようにしてください )。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="macro" id="macro" class="targanchor"><span class="b">macro</span> ( 定义宏 )</a></h1>
<div class="taggenre">宏操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ macro (定义宏) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="macro_name" id="macro_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">指令名</td><td class="tagattribdesc">　指令名を指定します。以後、この名前で新しい指令が定義され、宏（macro）を使用できるようになります。</td></tr>
</tbody></table><div class="tagremarks">　宏（macro）記述を開始します。新しい指令を定義することが出来ます。<br />　この指令から、<a class="jump" href="#endmacro">endmacro</a> 指令までにある文章や指令は、name 属性で指定された指令として登録され、以後使用できるようになります。<br />　ただし、宏（macro）中に <a class="jump" href="#iscript">iscript</a> 指令を使用することはできません。<br />　宏（macro）中に書かれた指令には、特別に % を頭につけた属性の値を指定することができます。% 以降には宏（macro）に渡された属性名を指定します。すると、宏（macro）に渡された属性の値をその属性の値とすることができます。このとき、| を使って属性の省略値を指定することもできます ( 下の例参照 )。属性名には小文字を用いてください。<br />　また、属性の代わりに * を書くと、宏（macro）に渡されたすべての属性をその指令に渡すことができます。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[macro name="newtag"][font color=0xff0000]新しい指令です[resetfont][endmacro]<br />[newtag]<br />[macro name="colortag"][font color=%iro]iro 属性付きの指令[resetfont][endmacro]<br />[colortag iro=0x332211]<br />; ↑ colotag に渡された iro 属性の値が font 指令の color 属性に渡される<br />[macro name="transwait"][trans *][wt][endmacro]<br />; ↑ この transwait に渡されたすべての属性が trans 指令に渡される<br />[macro name="colortag"][font color=%iro|0xff0000]iro 属性付きで省略値をしていした指令[resetfont][endmacro]<br />; ↑ % の属性の値では、 | のあとに続けて、その属性の省略値を指定することができます<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="mapaction" id="mapaction" class="targanchor"><span class="b">mapaction</span> ( 地图（clickmap）用可点击部分定义图片指定 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ mapaction (地图（clickmap）用可点击部分定义图片指定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="mapaction_layer" id="mapaction_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　対象とする层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="mapaction_page" id="mapaction_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="mapaction_storage" id="mapaction_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">領域アクション定義文件（file）名</td><td class="tagattribdesc">　領域アクション定義文件（file）を指定します。</td></tr>
</tbody></table><div class="tagremarks">　指定した层のクリッカブルマップの領域アクション定義に使用する文件（file）を指定します。<br />　この指令や <a class="jump" href="#image">image</a> 指令で領域アクション定義文件（file）を読み込むと実際にクリッカブルマップが使用可能になります。<a class="jump" href="#mapdisable">mapdisable</a> 指令でクリッカブルマップを使用不可能にすることができます。<br />　詳しくは KAG System リファレンスをご覧ください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="mapdisable" id="mapdisable" class="targanchor"><span class="b">mapdisable</span> ( 地图（clickmap）无效化 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ mapdisable (地图（clickmap）无效化) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="mapdisable_layer" id="mapdisable_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　対象とする层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="mapdisable_page" id="mapdisable_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　指定した层のクリッカブルマップを無効にします。　以降は <a class="jump" href="#image">image</a> 指令や <a class="jump" href="#mapaction"> mapaction </a> 指令を使って領域アクション定義文件（file）を読み込まなければクリッカブルマップは使用できません。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="mapimage" id="mapimage" class="targanchor"><span class="b">mapimage</span> ( 地图（clickmap）用显示图片指定 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ mapimage (地图（clickmap）用显示图片指定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="mapimage_layer" id="mapimage_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　対象とする层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="mapimage_page" id="mapimage_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="mapimage_storage" id="mapimage_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　クリッカブルマップの領域图片として用いる文件（file）を指定します。　文件（file）は 256 色で保存されている必要があります。</td></tr>
</tbody></table><div class="tagremarks">　指定した层のクリッカブルマップの領域图片に使用する文件（file）を指定します。<br />　<a class="jump" href="#image">image</a> 指令や <a class="jump" href="#mapaction">mapaction</a> 指令で領域アクション定義文件（file）を読み込まないとクリッカブルマップは使用できません。<br />　詳しくは KAG System リファレンスをご覧ください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="mappfont" id="mappfont" class="targanchor"><span class="b">mappfont</span> ( 指定预渲染文字包 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ mappfont (指定预渲染文字包) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="mappfont_storage" id="mappfont_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文件（file）名</td><td class="tagattribdesc">現在の字体（font）に割り当てたいレンダリング済み字体（font）文件（file）を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　現在操作対象になっている消息层の現在の字体（font）に、指定したレンダリング済み字体（font）を割り当てます。この指令以降、吉里吉里でその字体（font）を描画するときは常に指定したレンダリング済み字体（font）が使用されます。<br />　割り当てる字体（font）は実際に存在していなくてもかまいません。たとえば、"ほげほげ字体（font）" という字体（font）が選択されている状態で mappfont を使えば、その "ほげほげ字体（font）" に任意のレンダリング済み字体（font）を割り当てることができます。一つの字体（font）名には一つのレンダリング済み字体（font）しか割り当てることしかできません ( たとえば、一つの字体（font）名に対して複数のサイズの違うレンダリング済み字体（font）を割り当てるようなことはできません )。<br />　また、複数のレンダリング済み字体（font）をそれぞれ別の字体（font）に割り当てることができます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="move" id="move" class="targanchor"><span class="b">move</span> ( 层的自动移动 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ move (层的自动移动) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="move_layer" id="move_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">0 以上的整数 または message0 或者 message1 或者 message</td><td class="tagattribdesc">　指定作为该操作对象的层。<br />　0 以上的整数を指定すると前景层になります。<br />　message0 或者 message1 を指定すると消息层になります。単に message とのみ指定した場合は、<a class="jump" href="#current">current</a> 指令で指定した現在の操作対象の消息层が対象になります。<br />　背景层は指定しないでください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_page" id="move_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　layer 属性で指定した层が、表(fore)画面であるか、裏(back)画面であるかを指定します。省略すると表页であると見なされます。<br />　ただし、layer=message とのみ指定した場合でこの属性を省略した場合は現在操作対象の页の消息层が選択されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_spline" id="move_spline">spline</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、path 属性で指定した位置をＢスプラインで曲線補間した線上を层が移動するようになります。<br />　false を指定すると、path 属性で指定した位置を直線補間した線上を层が移動します。<br />　true を指定した場合は path には最低 2 点を指定してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_time" id="move_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　层が path を指定した点から点を移動するのに必要な时间を指定します。<br />　そのため、移動には、通過する点間の区間の数×この属性の値の时间がかかります。<br />　ただし、accel 属性に 0 以外を指定した場合は 一点を通過する时间は変化します ( 移動全体に要する时间は 通過する区間の数×この属性の値です )。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_delay" id="move_delay">delay</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　层の自動移動が開始されるまでの时间を ms で指定します。<br />　省略すると 0 であるとみなされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_path" id="move_path">path</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"(x1,y1,opacity1) (x2,y2,opacity2) ..."</td><td class="tagattribdesc">　移動位置を指定します。<br />　移動位置は、x(层左端位置), y(层上端位置), opacity(层濃度) を３つづつ、カンマや空白、( ) で区切って指定します。<br />　これらの間を、スプライン補間或者直線補間にて层が移動します。<br />　opacity には层の表示濃度を指定します。层の濃度も点から点を移動する間に連続的に変化します。层の濃度を連続的ではなく、突発的 ? に変化させたい場合は濃度に 256 を足した数値を指定してください。<br />　层を移動させずに表示濃度変化のみを行う場合は、层位置にはすべて同じ位置を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="move_accel" id="move_accel">accel</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">-1 未満の数或者 0(默认) 或者 1 より大きい数</td><td class="tagattribdesc">　加速度的な動きを行わせるかどうかを指定します。<br />　0 を指定すると、最初から最後まで一定の割合で移動処理が進行します ( 各通過点を等間隔の时间で通過します )。省略すると 0 が指定されたと見なされます。<br />　-1 未満の数を指定すると、最初は早く、徐々に遅くなります。<br />　1 より大きい数を指定すると、最初は遅く、徐々に早くなります。<br />　実数を指定することもできます。<br /></td></tr>
</tbody></table><div class="tagremarks">　指定した层に自動移動をさせます。<br />　层は現在の位置・表示濃度からスタートして、path で指定された位置・表示濃度を元にして移動したり表示濃度を変化させます。現在の位置や表示濃度から移動がスタートするので、path 属性の最初の位置/濃度には、一番最初の层の位置や表示濃度を指定する必要はありません。( つまり一番最初の位置や表示濃度は <a class="jump" href="#layopt">layopt</a> 指令などで指定する必要があります )。<br />　複数の层に対して move 指令を非同期に実行することができます。<br />　この指令は层の自動移動の終了を待ちません。待つには <a class="jump" href="#wm">wm</a> 指令を指定してください。<br />　前景层に画面よりも大きな画面を読み込み、この指令を使って移動させれば卷动（scroll）の効果を得ることができます。斜め卷动（scroll）も可能です。<br />　自動移動中は、消息层への文字描画ができなかったり、文字描画が遅くなったりします。<br />　マウスのクリック等で自動移動は中断されます。中断されないようにするには <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）を禁止してください。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[image storage=s1 layer=0 page=fore visible=true left=0 top=480 opacity=0]<br />[image storage=s2 layer=1 page=fore visible=true left=320 top=240 opacity=0]<br />[move time=4000 path="(0,240,255) (0,0,255) (0,-240,255) (0,-480,0)" layer=0]<br />[move time=4000 path="(320,240,0) (320,240,511) (320,240,0) (320, 240,0)" layer=1]<br />[wm][wm]
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="nextskip" id="nextskip" class="targanchor"><span class="b">nextskip</span> ( 「跳跃至下一选择支」设定 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ nextskip (「跳跃至下一选择支」设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="nextskip_enabled" id="nextskip_enabled">enabled</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　「次の選択肢まで進む」の機能を有効にする場合は true、無効にする場合は false を指定します。</td></tr>
</tbody></table><div class="tagremarks">　ユーザーが「次の選択肢まで進む」の機能を使用できるようにするか否かを指定できます。<br />　デモシーンなどでは無効にしていたほうがいい場合があります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="nowait" id="nowait" class="targanchor"><span class="b">nowait</span> ( 文字瞬间显示 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　文字の表示速度をノーウェイトに設定します。<br />　この指令は、ノーウェイトに設定する前に、直前の文字表示速度を記憶します。この記憶した文字表示速度に戻すには <a class="jump" href="#endnowait">endnowait</a> 指令を使うことができます。<br />　この指令と endnowait 指令の間には、保存可能な标签（label）を記述しないでください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="openvideo" id="openvideo" class="targanchor"><span class="b">openvideo</span> ( 影片/ SWF 播放准备 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ openvideo (影片/ SWF 播放准备) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="openvideo_slot" id="openvideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="openvideo_storage" id="openvideo_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文件（file）名</td><td class="tagattribdesc">　再生準備する文件（file）名を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　ビデオ或者SWF(Shockwave Flash)の再生の準備をします。<br />　一般的にビデオの再生準備には时间がかかるので、再生のタイミングをほかのものと同期させたい場合など、この指令を使って再生準備のみを先に行わせることができます。<br />　再生準備をしたビデオやSWFを再生するには <a class="jump" href="#playvideo">playvideo</a> タグを使用します。<br />　この指令を使用しなくても playvideo 指令で再生する文件（file）名を指定して再生をさせることはできます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="p" id="p" class="targanchor"><span class="b">p</span> ( 页末等待点击 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　改页のクリック待ちを行います。<br />　行末に [p] と書いた場合は、そのあとに \ があってもなくても改行はしません( Config.tjs で global.ignoreCR を false に設定した場合 )。<br />　<a class="jump" href="#current">current</a> 指令で裏页の消息层を指定している場合はこの記号は表示されません。表示したい場合は表页の消息层を指定してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="pausebgm" id="pausebgm" class="targanchor"><span class="b">pausebgm</span> ( BGM 播放暂停 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><div class="tagremarks">　BGM 演奏を一時停止します。Config.tjs で BGM 再生メディアに "Wave" を指定した場合のみに有効です。<br />　BGM の一時停止状態は栞に保存されますが、一時停止していた場合の BGM の再生位置の情報は保存されないので注意してください。<br />　一時停止した BGM を再開するには <a class="jump" href="#resumebgm">resumebgm</a> 指令を使用してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="pausevideo" id="pausevideo" class="targanchor"><span class="b">pausevideo</span> ( 影片暂停播放 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ pausevideo (影片暂停播放) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="pausevideo_slot" id="pausevideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks">　ビデオの再生を一時停止します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="pimage" id="pimage" class="targanchor"><span class="b">pimage</span> ( 在已载入图片的层上追加显示新图片 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ pimage (在已载入图片的层上追加显示新图片) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_storage" id="pimage_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">图片文件（file）名</td><td class="tagattribdesc">　追加して読み込む图片を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_layer" id="pimage_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　图片を追加して読み込む层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层に图片を読み込みます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_page" id="pimage_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_key" id="pimage_key">key</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">　storage で指定した图片の、どの色を抜き色とするかを指定します。省略すると抜き色は無効になります。 　key=0xRRGGBB という形式で 16 進数で抜き色を指定すると、RR(赤) GG(緑) BB(青)で塗られた部分を抜き色として透明にします。たとえば、key=0xff00ff では (r,g,b)=(255,0,255) つまり真マゼンダの部分を抜き色として透明にするという指定になります。<br />　ただ単に数値を指定すれば、そのパレットインデックスの数値が抜き色となります。16色/256色の图片に対して有効です。<br />　key=adapt と指定すれば、自動的に抜き色が決定されます。使用される抜き色は、图片の一番上のラインにて、一番多く使われている色です。16色/256色の图片に対して有効です。<br />　マスク图片を使用する場合は、この属性は指定する必要はありません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_dx" id="pimage_dx">dx</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">重ね合わせ、あるいはコピーする先の左端 x 座標を(対象の层内の座標で)指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_dy" id="pimage_dy">dy</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">重ね合わせ、あるいはコピーする先の上端 y 座標を(対象の层内の座標で)指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_sx" id="pimage_sx">sx</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">重ね合わせ、あるいはコピーする元の左端 x 座標を(追加して読み込む图片内の座標で)指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_sy" id="pimage_sy">sy</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">重ね合わせ、あるいはコピーする元の上端 y 座標を(追加して読み込む图片内の座標で)指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_sw" id="pimage_sw">sw</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">　重ね合わせ、あるいはコピーする幅を指定します。<br />　省略すると、追加して読み込む图片の幅すべてであると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_sh" id="pimage_sh">sh</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ピクセル単位</td><td class="tagattribdesc">　重ね合わせ、あるいはコピーする高さを指定します。<br />　省略すると、追加して読み込む图片の高さすべてであると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_mode" id="pimage_mode">mode</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"copy"或者 "opaque" 或者 "pile"  (默认) 或者 "alpha" 或者 "add" 或者 "sub" 或者 "mul" 或者 "dodge" 或者 "darken" 或者 "lighten" 或者 "screen" 或者 "psadd" 或者 "pssub" 或者 "psmul" 或者 "psscreen" 或者 "psoverlay" 或者 "pshlight" 或者 "psslight" 或者 "psdodge" 或者 "psdodge5" 或者 "psburn" 或者 "pslighten" 或者 "psdarken" 或者 "psdiff" 或者 "psdiff5" 或者 "psexcl"</td><td class="tagattribdesc">　sx sy sw sh の各属性で指定した矩形領域を 重ね合わせるか、あるいは単純にコピーするか、あるいは演算を行うかを指定します。<br />　"copy" 或者 "opaque" を指定すると矩形領域はコピーされます。"copy" でも "opaque" でも同じ意味です。<br />　"pile" 或者 "alpha" を指定すると、アルファ合成による重ね合わせが行われます。"pile" でも "alpha" でも同じ意味です。<br />　"addalpha" を指定すると、加算アルファ合成による重ね合わせが行われます。<br />　そのほかの模式（mode）については <a class="jump" href="#image">image</a> 指令の mode 属性を参照してください。<br />　省略すると "pile" が指定されたと見なされます。例外的に TLG5/6 图片は图片中にどの重ね合わせ模式（mode）で重ね合わされるかの情報を持っています (この情報は <a class="jump" href="#image">image</a> 指令で読み込まれる物と同一です)。この場合は、この属性が省略された場合は、その图片が情報として持っている重ね合わせ模式（mode）に従います。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pimage_opacity" id="pimage_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">不透明度 ( 0 (全くの透明) 〜 255 (全くの不透明 ) )</td><td class="tagattribdesc">　mode 属性で "pile" を指定した場合の重ね合わせの不透明度、あるいは "add" "sub" "mul" "dodge" "darken"  "lighten" "screen" のいずれかを指定した場合の演算の強度を指定します。<br />　省略すると 255 であると見なされます。<br /></td></tr>
</tbody></table><div class="tagremarks">　指定した层に图片を追加して読み込みます。<br />　指定した层の指定した部分に、別の图片文件（file）の一部分を重ね合わせたり、コピーしたりすることができます。<br />　いくらでも图片を追加して読み込むことができます。ただし、いくらでも、といっても、图片を追加して読み込むとその「图片を追加して読み込んだ」という情報がどんどんと蓄積されていってしまうので注意してください。<br />　新しく <a class="jump" href="#image">image</a> 指令で层に图片を読み込んだり、<a class="jump" href="#freeimage">freeimage</a> 指令で图片を解放すると、追加して読み込んだ图片やその情報は消えます。<br />　たとえば、一定时间間隔で层に图片を追加して読み込んでアニメーション、という用途にはこの指令ではなくてアニメーションの機能を使ったほうが良いでしょう。<br />　この指令は、image 指令で图片を読み込んだが、その图片の一部分だけを変えたい、というときに、該当する image 指令の直後に記述する、という用途に使います。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="playbgm" id="playbgm" class="targanchor"><span class="b">playbgm</span> ( BGM 播放 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ playbgm (BGM 播放) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="playbgm_storage" id="playbgm_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">BGM 文件（file）名</td><td class="tagattribdesc">　演奏する BGM 文件（file）名を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="playbgm_loop" id="playbgm_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　BGM を循环するかを指定します。<br />　true を指定すると循环します。false を指定すると循环しません。<br />　省略すると true であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　BGM を演奏します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="playse" id="playse" class="targanchor"><span class="b">playse</span> ( 播放音效 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ playse (播放音效) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="playse_buf" id="playse_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　効果音を再生するバッファを指定します。一つのバッファでは同時には一つの効果音を鳴らすことができます。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="playse_storage" id="playse_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">効果音文件（file）名</td><td class="tagattribdesc">　演奏する効果音文件（file）名を指定します。<br />　拡張子は省略可能ですが、省略した場合に自動的に探し出されるのは.wav 或者 .ogg 或者 .mp3 の拡張子を持つ文件（file）だけです。( ただし ogg と mp3 の 再生には SDK 付属のプラグインが必要 )<br />そのほかのプラグインで使用可能になるそのほかの文件（file）形式を指定する場合は拡張子も指定してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="playse_loop" id="playse_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　効果音を繰り返し再生するかどうかを指定します。<br />　true を指定すると繰り返し再生されます。false を指定すると一回限りの再生となります。省略するとfalse であると見なされます。<br />　true を指定した場合は <a class="jump" href="#ws">ws</a> 指令で効果音再生の終了を待つことはできません。</td></tr>
</tbody></table><div class="tagremarks">　効果音を再生します。<br />　この指令は効果音の再生の終了を待ちません。終了を待つには <a class="jump" href="#ws">ws</a> 指令を使ってください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="playvideo" id="playvideo" class="targanchor"><span class="b">playvideo</span> ( 影片/ SWF 播放 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ playvideo (影片/ SWF 播放) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="playvideo_slot" id="playvideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="playvideo_storage" id="playvideo_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">文件（file）名</td><td class="tagattribdesc">　再生する文件（file）名を指定します。<br />　すでに <a class="jump" href="#openvideo">openvideo</a> 指令で再生の準備をしていた場合はこの属性を指定する必要はありません。<br />　逆に、openvideo 指令を使用しない場合はここで文件（file）名を指定する必要があります。<br /></td></tr>
</tbody></table><div class="tagremarks">　ビデオ或者SWF(Shockwave Flash)を再生します。<a class="jump" href="#video">video</a> 指令で指定した表示領域にて再生します。ビデオ表示領域は默认では非表示なので、video 指令で表示状態にしないと表示されません。<br />　この指令はビデオの再生の終了を待ちません。待つには <a class="jump" href="#wv">wv</a> を使用してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="position" id="position" class="targanchor"><span class="b">position</span> ( 消息层属性设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ position (消息层属性设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="position_layer" id="position_layer">layer</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">message0 或者 message1 或者 message</td><td class="tagattribdesc">　対象とする消息层を指定します。<br />　省略すると <a class="jump" href="#current">current</a> 指令で指定された現在の消息层が選択されます。<br />　この属性も page 属性も省略された場合は、current 指令で指定された現在の页・現在の消息层が選択されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_page" id="position_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"fore" 或者 "back"</td><td class="tagattribdesc">　対象とする页を指定します。<br />　この属性を省略すると <a class="jump" href="#current">current</a> 指令で指定された現在の页が選択されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_left" id="position_left">left</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左端位置 ( pixel 単位 )</td><td class="tagattribdesc">　消息层の左端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_top" id="position_top">top</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上端位置 ( pixel 単位 )</td><td class="tagattribdesc">　消息层の上端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_width" id="position_width">width</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">幅 ( pixel 単位 )</td><td class="tagattribdesc">　消息层の幅を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_height" id="position_height">height</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">高さ ( pixel 単位 )</td><td class="tagattribdesc">　消息层の高さを指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_frame" id="position_frame">frame</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">フレーム图片の文件（file）名</td><td class="tagattribdesc">　消息层のフレーム图片として表示させる图片を指定します。使用しない場合は "" を指定してください。"" を指定すると、消息层が color および opacity 属性で指定した色、濃度で矩形で表示されます。　ここで指定した文件（file）名 (拡張子を除く) 部分に _m を追加した文件（file）が、もしあれば、マスク图片として読み込まれます。マスク图片は必ず 256 色グレースケールで保存してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_framekey" id="position_framekey">framekey</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式 或者 パレットインデックス番号 或者 "adapt"</td><td class="tagattribdesc">　frame 属性で指定したフレーム图片の、どの色を抜き色とするかを指定します。省略すると抜き色は無効になります。 　key=0xRRGGBB という形式で 16 進数で抜き色を指定すると、RR(赤) GG(緑) BB(青)で塗られた部分を抜き色として透明にします。たとえば、key=0xff00ff では (r,g,b)=(255,0,255) つまり真マゼンダの部分を抜き色として透明にするという指定になります。<br />　ただ単に数値を指定すれば、そのパレットインデックスの数値が抜き色となります。16色/256色の图片に対して有効です。<br />　key=adapt と指定すれば、自動的に抜き色が決定されます。使用される抜き色は、图片の一番上のラインにて、一番多く使われている色です。16色/256色の图片に対して有効です。<br />　マスク图片を使用する場合は、この属性を指定する必要はありません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_color" id="position_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　消息层の表示色を 0xRRGGBB 形式で指定します。 frame に "" を指定したときに有効です。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_opacity" id="position_opacity">opacity</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">不透明度 ( 0 〜 255 )</td><td class="tagattribdesc">　消息层の不透明度を 0 〜 255 の数値で指定します(文字の不透明度や、层自体の不透明度ではありません)。0 で完全に透明です。frame に "" を指定したときに有効です。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_marginl" id="position_marginl">marginl</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左余白 ( pixel 単位 )</td><td class="tagattribdesc">消息层の左余白を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_margint" id="position_margint">margint</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上余白 ( pixel 単位 )</td><td class="tagattribdesc">消息层の上余白を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_marginr" id="position_marginr">marginr</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">右余白 ( pixel 単位 )</td><td class="tagattribdesc">消息层の右余白を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_marginb" id="position_marginb">marginb</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">下余白 ( pixel 単位 )</td><td class="tagattribdesc">消息层の下余白を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_vertical" id="position_vertical">vertical</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"true" 或者 "false"</td><td class="tagattribdesc">　消息层を縦書きに模式（mode）にするには "true" を指定します。横書きにするには "false" を指定してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_draggable" id="position_draggable">draggable</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"true" 或者 "false"</td><td class="tagattribdesc">　true に設定すると、marginl, margint, marginr, marginb で指定したマージンの部分でかつ、フレーム图片の不透明度が 64 以上的箇所を、マウスでドラッグすることにより消息层をユーザが移動できるようになります。<br />　false を指定するとこの動作は行われません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="position_visible" id="position_visible">visible</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"true" 或者 "false"</td><td class="tagattribdesc">　true に設定すると、消息层が可視(表示状態)になります。<br />　false に設定すると、消息层は不可視(非表示状態)になります。</td></tr>
</tbody></table><div class="tagremarks">　消息层に対する様々な属性を指定します。<br />　いずれの属性も、省略すれば設定は変更されません。<br />　marginl, margint, marginr, marginb のそれぞれの属性は、frame で指定したフレーム图片での表示領域を指定するのにも使います。　消息层に対して個別に設定できます ( 裏页・面画面を別の設定にすることもできます )。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="preparevideo" id="preparevideo" class="targanchor"><span class="b">preparevideo</span> ( 影片播放准备 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ preparevideo (影片播放准备) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="preparevideo_slot" id="preparevideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks">ビデオの再生準備を行います。<br />层ー描画模式（mode）時に未描画图片が表示されてしまうのを防ぐためにこの機能を使用してください。<br />この指令の直後にかならず[wp]指令を置いて準備完了を待ってください。<br />この指令は层ー描画模式（mode）時のみ有効です。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ptext" id="ptext" class="targanchor"><span class="b">ptext</span> ( 在图片层上显示文字 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ ptext (在图片层上显示文字) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_layer" id="ptext_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　文字を描画する层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层に文字を描画します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_page" id="ptext_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_x" id="ptext_x">x</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">象素单位</td><td class="tagattribdesc">　文字を描画する横位置を pixel 単位で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_y" id="ptext_y">y</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">象素单位</td><td class="tagattribdesc">　文字を描画する縦位置を pixel 単位で指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_text" id="ptext_text">text</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文字列</td><td class="tagattribdesc">　描画する文字列を指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_vertical" id="ptext_vertical">vertical</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">false(默认) 或者 true</td><td class="tagattribdesc">　縦書きかどうかを指定します。true を指定すると縦書きになります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_angle" id="ptext_angle">angle</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">角度の10倍</td><td class="tagattribdesc">　文字描画の角度を指定します。角度の 10 倍の値 ( 0 〜 3600 ) で指定します。<br />　省略すると、横書きの場合は 0、縦書きの場合は 2700 が指定されたと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_size" id="ptext_size">size</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">文字サイズ(象素单位)</td><td class="tagattribdesc">　文字サイズを pixel 単位で指定します。<br />　この属性を省略すると 12 が選択されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_face" id="ptext_face">face</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">字体名</td><td class="tagattribdesc">　字体（font）名を指定します。<br />　字体（font）名には曖昧な指定はできません。スペース、半角／全角も正確に指定してください。<br />　複数の字体（font）名をカンマで区切って指定できます。この場合は、最初の方に書いた字体（font）が存在すれば、それが優先されて選択されます。<br />　例 : face="HG行書体,ＭＳ Ｐゴシック"<br />　縦書き用字体（font）は自動的に設定されますので、字体（font）名の先頭に @ マークをつける必要はありません。<br />　この属性を省略すると ＭＳ Ｐゴシックが選択されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_color" id="ptext_color">color</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　文字色を 0xRRGGBB 形式で指定します。<br />　省略すると 0x000000 であると見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_italic" id="ptext_italic">italic</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　文字を斜体にするかどうかを指定します。true を指定すると斜体になります。<br />　この属性を省略すると false であると見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_shadow" id="ptext_shadow">shadow</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　文字に影をつけるかを指定します。true を指定すると影がつきます。<br />　edge と shadow 両方に true を指定することはできません。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_edge" id="ptext_edge">edge</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　文字を描边文字 ( 縁取り文字 ) にするかを指定します。true を指定すると描边文字になります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_edgecolor" id="ptext_edgecolor">edgecolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　文字の边缘色を 0xRRGGBB 形式で指定します。<br />　省略すると 0x000000 が指定されたと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_shadowcolor" id="ptext_shadowcolor">shadowcolor</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0xRRGGBB 形式</td><td class="tagattribdesc">　阴影色を 0xRRGGBB 形式で指定します。<br />　省略すると 0x000000 が指定されたと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ptext_bold" id="ptext_bold">bold</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　文字を太文字にするかを指定します。 true を指定すると太文字になります。<br /></td></tr>
</tbody></table><div class="tagremarks">　指定した层に文字を描画します。<br />　消息层に表示するのと異なり、この指令で描画した内容は栞に記録されます (栞を読み込んでも再現されます)。<br />　文字は层に图片を読み込むと消去されます。<br />　なにかの数値ステータスなどを画面上に表示し続けたい場合に便利です。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="quake" id="quake" class="targanchor"><span class="b">quake</span> ( 画面震动效果 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ quake (画面震动效果) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="quake_time" id="quake_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文字数或者 ms(毫秒)</td><td class="tagattribdesc">　ここで指定した文字数を表示するのと同じだけの时间、画面を揺らします。<br />　timemode 属性で ms を指定した場合は毫秒単位で、delay を指定した場合は<a class="jump" href="#delay">delay</a> 指令で指定した文字表速度×この指令の time 属性で指定した时间分揺れが続きます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="quake_timemode" id="quake_timemode">timemode</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"ms" 或者 "delay"</td><td class="tagattribdesc">　time 属性の単位を指定します。<br />　ここの設定の默认は Config.tjs の defaultQuakeTimeInChUnit に　従います。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="quake_hmax" id="quake_hmax">hmax</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">pixel 単位</td><td class="tagattribdesc">　揺れの横方向への最大振幅を指定します。省略すると 10 が指定されたと見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="quake_vmax" id="quake_vmax">vmax</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">pixel 単位</td><td class="tagattribdesc">　揺れの縦方向への最大振幅を指定します。省略すると 10 が指定されたと見なされます。</td></tr>
</tbody></table><div class="tagremarks">　画面を揺らします。<br />　この指令は揺れの終了を待ちません。揺れの終了を待つには <a class="jump" href="#wq">wq</a> 指令を使用してください。<br />　vmax 属性を 0 に設定すると横揺れになります。hmax 属性を 0 に設定すると縦揺れになります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="r" id="r" class="targanchor"><span class="b">r</span> ( 文字换行 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ r (文字换行) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="r_eol" id="r_eol">eol</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true</td><td class="tagattribdesc">Config.tjs の ignoreCR が false の場合、KAG は改行の際に r指令を生成しますが、この「改行の際に生成される r 指令」の場合はこの属性があり、値が true になっています。剧本中に書かれた[r] 指令の場合はこの属性はありません。<br />この属性はTJSスクリプト内部で改行と[r]指令を区別したい場合に使用されますので、KAG剧本上でこの属性を指定する意味はありません。</td></tr>
</tbody></table><div class="tagremarks">　改行します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="rclick" id="rclick" class="targanchor"><span class="b">rclick</span> ( 右键点下后执行的动作设定 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ rclick (右键点下后执行的动作设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_call" id="rclick_call">call</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　true を設定すると、右クリックで storage と target 属性で指定したサブルーチンを呼び出すようになります。jump 属性とこの属性の両方に false を指定すると、通常の 「文字を消す」の動作になります。<br />　この属性と jump 属性を同時に true にする事はできません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_jump" id="rclick_jump">jump</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　true を設定すると、右クリックで storage と target 属性で指定した場所に跳转するようになります。call 属性とこの属性の両方に false を指定すると、通常の「文字を消す」の動作になります。<br />　この属性と call 属性を同時に true にする事はできません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_target" id="rclick_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）</td><td class="tagattribdesc">　call 属性か jump 属性に true を設定した場合、その呼び出し先/跳转先の标签（label）を指定します。<br />　この属性を target="" とした場合、storage 属性で指定した文件（file）の先頭から実行が始まります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_storage" id="rclick_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">文件（file）</td><td class="tagattribdesc">　call 属性か jump 属性に true を設定した場合、その呼び出し先/跳转先の文件（file）を指定します。<br />　この属性を storage="" とした場合、右クリックがされた時点での文件（file）内の标签（label）が検索されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_enabled" id="rclick_enabled">enabled</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　true を設定すると、右クリックにより消息层が隠されたり、指定のルーチンが呼び出されたり、指定場所に跳转したりします。<br />　false を指定すると、これらの動作は行われません。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="rclick_name" id="rclick_name">name</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">メニュー項目名或者 "default"</td><td class="tagattribdesc">　系统メニュー内の「文字を消す」のメニュー項目名を指定します。<br />　name=default とすると、默认の「文字を消す」になります。<br />　メニューホットキー ( メニュー項目内で下線のついた文字 ) を指定するには、&amp; に続けて文字を指定してください ( たとえば「文字を消す(&amp;S)」 )。</td></tr>
</tbody></table><div class="tagremarks">　右クリックや、キーボードから ESC キーを押した時の動作を設定します。<br />　いずれの属性も、省略すれば設定は変更されません。<br />　これらの機能は、[l] [p] 指令でのクリック待ち、[s] 指令での停止時にのみ発動することができます。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
@rclick call=true target="*rclick" name="右クリック用サブルーチンを呼ぶ(&amp;S)" enabled=true<br /><br />*rclick<br />@rclick jump=true target="*exit" name="戻る(&amp;S)" enabled=true<br />@current layer=message1<br />@layopt layer=message1 page=fore visible=true<br />@er<br />ここは右クリックルーチン内です。<br />@s<br />*exit<br />@layopt layer=message1 page=fore visible=false<br />@current layer=message0<br />@rclick call=true target="*rclick" name="右クリック用サブルーチンを呼ぶ(&amp;S)" enabled=true<br />@return<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="record" id="record" class="targanchor"><span class="b">record</span> ( 进行通过记录 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><div class="tagremarks">　現在の位置で通過記録を行います。<br />　通過記録には、直前にある「栞を保存可能な标签（label）」の位置が記録され、戻るときはそこに戻りますが、それが実際に通過記録として記録されるタイミングは、この指令を記述した次の「栞を保存可能な标签（label）」を通過したときです。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="resetfont" id="resetfont" class="targanchor"><span class="b">resetfont</span> ( 文字属性设为默认值 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#font">font</a> 指令で指定した文字の属性を默认に戻します。<br />　文字属性は、消息层ごとに個別に設定できます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="resetstyle" id="resetstyle" class="targanchor"><span class="b">resetstyle</span> ( 文字显示样式设为默认值 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#style">style</a> 指令で指定した行のスタイルをすべて默认の設定に戻します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="resetwait" id="resetwait" class="targanchor"><span class="b">resetwait</span> ( 等待设定设为默认值 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#wait">wait</a> 指令の mode=until で使用する时间原点を設定します。<br />　この指令と wait 指令の間には栞を保存可能な标签（label）を書かないでください ( 途中で栞を保存してもこの情報までは保存されないので )。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[resetwait]<br />[wait mode=until time=3000]<br />; ↑ resetwait を通過した时间から 3 秒経過するまで待つ
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="resumebgm" id="resumebgm" class="targanchor"><span class="b">resumebgm</span> ( BGM 播放继续 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#pausebgm">pausebgm</a> 指令で一時停止した BGM を再開します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="resumevideo" id="resumevideo" class="targanchor"><span class="b">resumevideo</span> ( 影片播放继续 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ resumevideo (影片播放继续) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="resumevideo_slot" id="resumevideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks">ビデオの再生を再開します。<br />pausevideoでの一時停止後は、resumevideoを使用して、再生を再開します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="return" id="return" class="targanchor"><span class="b">return</span> ( 从子事件返回（与call对应） )</a></h1>
<div class="taggenre">标签·跳转操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ return (从子事件返回（与call对应）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="return_storage" id="return_storage">storage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">剧本文件（file）名</td><td class="tagattribdesc">　戻り先の剧本文件（file）を指定します。storage 属性を省略して、target 属性だけが書かれていると、現在の剧本文件（file）内であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="return_target" id="return_target">target</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">标签（label）名</td><td class="tagattribdesc">　戻り先の标签（label）を指定します。<br />　target 属性を省略して、storage 属性だけがかかれていると、文件（file）の先頭から実行されます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="return_countpage" id="return_countpage">countpage</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　呼び出し元に戻るときに、この return 指令のある場所の标签（label）を「読んだ」とみなすかどうかを指定します。<br />　戻る際にその页が「読んだ」ことになっては困る場合に false を指定します。</td></tr>
</tbody></table><div class="tagremarks">　サブルーチンから呼び出し元に戻ります。<br />　storage と target を両方とも省略すると、呼び出し元の call 指令の直後に戻ります。storage や target を指定すれば、任意の場所に戻ることができます。<br />　<a class="jump" href="#call">call</a> 指令で呼び出されたサブルーチンは、この指令で呼び出し元に戻すか、任意の場所にもどす必要があります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="rewindvideo" id="rewindvideo" class="targanchor"><span class="b">rewindvideo</span> ( 影片倒带 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ rewindvideo (影片倒带) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="rewindvideo_slot" id="rewindvideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks">　ビデオを先頭まで巻き戻します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ruby" id="ruby" class="targanchor"><span class="b">ruby</span> ( 使用注音（ruby） )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ ruby (使用注音（ruby）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="ruby_text" id="ruby_text">text</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">ルビとして表示される文字</td><td class="tagattribdesc">ルビとして表示させる文字を指定します。</td></tr>
</tbody></table><div class="tagremarks">　次の一文字に対するルビを指定します。<br />　ルビを表示させたい場合は毎回指定してください。<br />　複数の文字にルビを振る場合は、一文字毎にルビを指定する必要があります。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
　[ruby text="かん"]漢[ruby text="じ"]字
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="s" id="s" class="targanchor"><span class="b">s</span> ( 停止执行（等待玩家点击选择支/按钮） )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　剧本文件（file）の実行を停止します。<br />　<a class="jump" href="#link">link</a> 指令で選択肢待ちをするときに、この指令を書きます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="save" id="save" class="targanchor"><span class="b">save</span> ( 保存游戏 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ save (保存游戏) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="save_place" id="save_place">place</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0或者正の整数(0が默认)</td><td class="tagattribdesc">　栞の番号を指定します。省略すると 0 が指定されたと見なされます。<br />　どのような数値を指定してもかまいませんが、999 〜 1999 は特別な意味を持つ栞です。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="save_ask" id="save_ask">ask</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、栞を保存するかどうかの確認をします。false を指定すると栞を保存するかどうかの確認はありません。この属性を省略すると false を指定したとみなされます。<br /></td></tr>
</tbody></table><div class="tagremarks">　非フリーセーブ模式（mode）において、指定された栞に保存します。メニューから「栞をはさむ」を選択された場合と同じ動作をします。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="seopt" id="seopt" class="targanchor"><span class="b">seopt</span> ( 音效设定 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ seopt (音效设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="seopt_buf" id="seopt_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　設定を変更するバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="seopt_volume" id="seopt_volume">volume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　効果音の音量を % で指定します。初期状態の KAG では100 % です。省略すれば音量は変更されません。<br />　100 が上限です。音量の抑制のみをサポートします(増幅は音源の特性上、できません)。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="seopt_gvolume" id="seopt_gvolume">gvolume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　効果音の大域音量を % で指定します。初期状態の KAG では100 % です。省略すれば音量は変更されません。<br />　大域音量は volume 属性で指定する通常の音量とは別に、バッファの音量を制御することができるもう一つのものです。実際に再生される音量は、通常の音量と大域音量を掛け合わせた音量になります( たとえば volume=50 で gvolume=75 ならば 50(%)*75(%)=37.5(%) )<br />　大域音量は効果音バッファごとに系统変数に記録され、次回起動時にも引き継がれます ( 各栞に保存されるわけではありません )。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="seopt_pan" id="seopt_pan">pan</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">パン (-100〜0〜100)</td><td class="tagattribdesc">　パン (左右の音像位置) を指定します。<br />　-100 が完全な左、0 が中央、100 が完全な右です。</td></tr>
</tbody></table><div class="tagremarks">　効果音の個々のバッファに対する設定を変更します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="showhistory" id="showhistory" class="targanchor"><span class="b">showhistory</span> ( 显示消息历史记录 )</a></h1>
<div class="taggenre">消息历史记录操作</div>
<div class="para"><div><div class="tagremarks">　文字履歴を表示します。<br />　文字履歴の表示を終了すると、実行は継続します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="startanchor" id="startanchor" class="targanchor"><span class="b">startanchor</span> ( 「返回开始」的有效·无效化 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ startanchor (「返回开始」的有效·无效化) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="startanchor_enabled" id="startanchor_enabled">enabled</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"true"(默认) 或者 "false"</td><td class="tagattribdesc">　"true" を指定するかこの属性を省略すると、この指令のあるすぐ前のセーブ可能な标签（label）が「最初に戻る」の戻り先であるとされ、「最初に戻る」の機能が有効になります。<br />　"false" を指定すると「最初に戻る」の機能が無効になります。</td></tr>
</tbody></table><div class="tagremarks">　Config.tjs 内で goToStartMenuItem.visible =true; と設定すると、系统|最初に戻るメニューが表示されますが、それが選択された場合に戻る場所をこの指令で指定します。<br />　戻る場所を指定する場合は enabled 属性を省略するか true を指定しますが、この指令はセーブ可能な标签（label）の直後に書いてください。この标签（label）を通過しない間は、系统|最初に戻るのメニューは使用不可能になります。<br />　enabled 属性に false を指定すると「最初に戻る」の機能は無効になります。<br />　「最初に戻る」の動作は、この指令の書かれた場所の标签（label）の栞を読み出す動作に似ていますが、ゲーム変数の内容は保持されたままとなります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stopbgm" id="stopbgm" class="targanchor"><span class="b">stopbgm</span> ( BGM 播放停止 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><div class="tagremarks">　BGM 演奏を停止します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stopmove" id="stopmove" class="targanchor"><span class="b">stopmove</span> ( 停止层的自动移动 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#move">move</a> 指令で開始した自動移動を強制的に中止します。すべての层の自動移動が停止します。<br />　图片は最終位置に移動し、最終の表示濃度になります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stopquake" id="stopquake" class="targanchor"><span class="b">stopquake</span> ( 停止画面震动效果 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#quake">quake</a>指令で開始した揺れを終了させます。<br />　quake 指令の time 属性で指定した回数を待たずに揺れを終了させることができます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stopse" id="stopse" class="targanchor"><span class="b">stopse</span> ( 停止音效播放 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ stopse (停止音效播放) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="stopse_buf" id="stopse_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　効果音を停止するバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
</tbody></table><div class="tagremarks">　効果音再生を停止します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stoptrans" id="stoptrans" class="targanchor"><span class="b">stoptrans</span> ( 停止层的切换效果 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#trans">trans</a> 指令で開始した过渡（transition）を強制的に中止します。すべての层の过渡（transition）が停止します。<br />　图片は完全に切り替わった状態になります。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="stopvideo" id="stopvideo" class="targanchor"><span class="b">stopvideo</span> ( 电影/ SWF 播放停止 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ stopvideo (电影/ SWF 播放停止) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="stopvideo_slot" id="stopvideo_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
</tbody></table><div class="tagremarks">　ビデオ/SWFの再生を停止します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="store" id="store" class="targanchor"><span class="b">store</span> ( 存取机能设定 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ store (存取机能设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="store_enabled" id="store_enabled">enabled</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　栞機能を有効にする場合は true 、無効にする場合は false を指定します。false を指定すると栞によるセーブ・ロードができなくなります。</td></tr>
</tbody></table><div class="tagremarks">　栞機能を有効にするか、無効にするかを指定します。ユーザーにセーブ・ロードの動作を行わせたくない場合に <span class="script">[store enabled=false]</span> とします。 <br />　<a class="jump" href="#disablestore">disablestore</a> の機能と違うのは、store 指令は栞をはさむ・たどるの両方の機能を恒久的に設定するのに対し、disablestore 指令はセーブ可能な标签（label）を通過するまでの間の一時的な間だけ「栞をはさむ」或者「たどる」の機能を無効にするだけです。使い勝手は disablestore の方が良いでしょう。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="style" id="style" class="targanchor"><span class="b">style</span> ( 文字显示格式设定 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ style (文字显示格式设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="style_align" id="style_align">align</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"left"/"top" 或者 "center" 或者 "right"/"bottom" 或者 "default"</td><td class="tagattribdesc">　行の文字揃えを指定します。<br />　横書きの場合、"left" を指定すると左揃え(默认)、"center" を指定するとセンタリング、"right" を指定すると右揃えになります。"default" を指定すると左揃えになります。<br />　縦書きの場合、"top" を指定すると上詰め(默认)、"center" を指定するとセンタリング、"bottom" を指定すると下詰めになります。"default" を指定すると上詰めになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="style_linespacing" id="style_linespacing">linespacing</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">行間 (象素单位)</td><td class="tagattribdesc">　行間を pixel 単位で指定します。一行全体の幅は、この属性で指定した値と linesize 属性で指定した値を足した値になります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="style_pitch" id="style_pitch">pitch</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">字間オフセット(象素单位)</td><td class="tagattribdesc">　字間のオフセットを pixel 単位で指定します。　0 を指定すると、その文字の默认の字間で表示されます。負の数、たとえば -1 を指定すると、その文字の默认の字間 -1 のピクセル数分、文字が詰めて表示されます。正の数を表示すると字間をあけることが出来ます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="style_linesize" id="style_linesize">linesize</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">予約サイズ(象素单位) 或者 "default"</td><td class="tagattribdesc">　行の幅を指定します。<br />　"default" を指定すると行の幅は自動的に決定されますが、途中で文字が大きくなると、その大きい文字に合わせて文字の再配置が行われます。<br />　再配置を防ぐには、あらかじめこの属性で、文字の最大の大きさを指定してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="style_autoreturn" id="style_autoreturn">autoreturn</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"true" 或者 "false" 或者 "default"</td><td class="tagattribdesc">　自動改行・自動改页を行わせるかどうかを指定します。<br />　"true" 或者 "default" を指定すると自動改行・改页を行います。<br />　"false" を指定すると自動改行・改页は行われませんので、表示する文字が長すぎても消息层をはみ出して描画されます。</td></tr>
</tbody></table><div class="tagremarks">　行のスタイルを指定します。<br />　KAG ドキュメントの「文字表示の詳細」も参照してください。　これらの属性は、<a class="jump" href="#resetstyle">resetstyle</a> 指令や <a class="jump" href="#ct">ct</a> 指令が実行されると、默认の値に戻ります。<br />　行のスタイルは消息层ごとに個別に設定できます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="tempload" id="tempload" class="targanchor"><span class="b">tempload</span> ( 读取内存上临时保存的书签 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ tempload (读取内存上临时保存的书签) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="tempload_place" id="tempload_place">place</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0或者正の整数(0が默认)</td><td class="tagattribdesc">　栞の番号を指定します。省略すると 0 が指定されたと見なされます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="tempload_se" id="tempload_se">se</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true (默认) 或者 false</td><td class="tagattribdesc">　読み込むときに、効果音の情報も読み込むかを指定します。<br />　false を指定すると効果音の情報は読み込みません ( 現在の効果音がそのまま鳴り続けます )。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="tempload_bgm" id="tempload_bgm">bgm</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true (默认) 或者 false</td><td class="tagattribdesc">　読み込むときに、BGM の情報も読み込むかを指定します。<br />　false を指定すると BGM の情報は読み込みません ( 現在の BGM がそのまま演奏され続けます )。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="tempload_backlay" id="tempload_backlay">backlay</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false (默认)</td><td class="tagattribdesc">　読み込むときに、前景层の情報は読み込まずに、かつ背景层には前景层の情報を読み込むかどうかを指定します。<br />　true を指定すると、メモリ上の「栞」では表页として記録されている情報が、実際には裏页に読み込まれ、表页はそのままになります。</td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#tempsave">tempsave</a> 指令で保存したメモリ上の「栞」を読み出します。<br />　ただ、通常の栞の読み出しと違うのは、保存した位置に実行が移動しないで、そのまま実行が続行するところと、変数の内容は変化しないことです。<br />　消息层も消去されません。また、se、bgm、backlay 属性により、ロード時の挙動を制御することができます。<br />　主な用途は、たとえばデモシーンなどに入るまえにいったん tempsave 指令で状態を保存し、デモシーンが終わったところでこの指令で復帰するというように、いちいちすべての設定を元に戻すのが面倒なときに、一気に設定を元に戻す用途で使います。<br />　rclick で指定した右クリック時のサブルーチンで一時的に情報を保存するのにも使うことができます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="tempsave" id="tempsave" class="targanchor"><span class="b">tempsave</span> ( 临时保存书签到内存 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ tempsave (临时保存书签到内存) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="tempsave_place" id="tempsave_place">place</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">0或者正の整数(0が默认)</td><td class="tagattribdesc">　栞の番号を指定します。省略すると 0 が指定されたと見なされます。<br />　指定できる数値や保存箇所の個数に制限はありませんが、あまり大きな整数は指定しないでください。<br /></td></tr>
</tbody></table><div class="tagremarks">　メモリ上の「栞」に現在の位置での情報を挟みます。ここで保存されるのは文件（file）ではなくメモリ上の栞ですので、KAG が終了しても内容は保持されませんし、通常の「栞」とはなんの関係も持ちません。<br />　また、最後に通過した标签（label）位置での状態が保存されるのではなくて、この指令のある位置での情報が記録されます。また、変数の内容は記録されません。<br />　<a class="jump" href="#tempload">tempload</a> 指令と組み合わせて使います。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="title" id="title" class="targanchor"><span class="b">title</span> ( 改变游戏标题 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ title (改变游戏标题) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="title_name" id="title_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">タイトル</td><td class="tagattribdesc">　表示したいタイトルを指定してください。</td></tr>
</tbody></table><div class="tagremarks">　タスクバー、およびウィンドウキャプション ( タイトルバー ) に表示する文字を指定します。<br />　通常はゲーム等のタイトルです。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="trace" id="trace" class="targanchor"><span class="b">trace</span> ( 在消息台中记录 TJS 式运算结果（便于除错） )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ trace (在消息台中记录 TJS 式运算结果（便于除错）) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="trace_exp" id="trace_exp">exp</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">TJS 式</td><td class="tagattribdesc">　評価する TJS 式を指定します。</td></tr>
</tbody></table><div class="tagremarks">　exp で示された式を評価し、結果をコンソールに出力します。<br />　コンソールは Shift+F4 で表示されるほか、Config.tjs 内で logMode を設定することにより、文件（file）に記録することもできます。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[trace exp="f.test"]<br />; ↑ ゲーム変数 test の内容を コンソール に出力する<br />; コンソールには以下のように表示される ( 例 )<br />;  6:45:34 ▼[trace] expression="f.test"  type of result=Number  result=500<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="trans" id="trans" class="targanchor"><span class="b">trans</span> ( 层的切换过渡效果 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ trans (层的切换过渡效果) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="trans_layer" id="trans_layer">layer</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"base"(默认) 或者 0 以上的整数 或者message0 或者 message1 或者 message</td><td class="tagattribdesc">　指定作为该操作对象的层。<br />　base 的话即是切换背景层。<br />　0 以上的整数即是切换前景层。<br />　message0 或者 message1 则是切换消息层。只写成 message 的话、就会把 <a class="jump" href="#current">current</a> 指令指定的，现在用来显示文字的消息层作为対象 ( 不过不管当前显示文字的是消息层的里页还是表页，进行的都是里页→表页的过渡（transition） )。<br />　通常都是针对 base 层进行过渡（transition）的。<br />　假如只对 base 以外的某个特定层进行过渡（transition）有可能会有一些限制。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_children" id="trans_children">children</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　过渡（transition）时是否也对子层进行过渡。设为 true 的话包括子层也会一起过渡。设为 false 则不包括。<br />　layer=base 情况下有效。<br />　base 的子层，包含了前景层和消息层。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_time" id="trans_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒为单位)</td><td class="tagattribdesc">　以数值指定过渡（transition）效果执行的时间。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_method" id="trans_method">method</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"universal" (默认) 或者 "scroll" 或者其他</td><td class="tagattribdesc">　指定过渡（transition）的类型。<br />"universal" を指定すると、 rule, vague, time 属性に従ってユニバーサル过渡（transition）が行われます。<br />"crossfade" を指定すると、time 属性に従って、単純なクロスフェードが行われます。<br />"scroll" を指定すると、from, stay を元にしてスクロール过渡（transition）が行われます。<br />　プラグインによって使用可能になる过渡（transition）の类型もあります。その場合は method 属性にはその过渡（transition）の名前を指定し、また、过渡（transition）によっては別の属性を指定しなければならない場合があります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_rule" id="trans_rule">rule</a></td><td class="tagattribrequired">method=universal 时有效</td><td class="tagattribformat">规则图片名</td><td class="tagattribdesc">　指定 universal 方式过渡（transition）时使用的规则图片名。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_vague" id="trans_vague">vague</a></td><td class="tagattribrequired">method=universal 时有效</td><td class="tagattribformat">边界模糊值 (0或以上)</td><td class="tagattribdesc">　universal 方式过渡（transition）时使用，指定切换时，原画面和现画面的交界处是平滑或者粗糙的。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_from" id="trans_from">from</a></td><td class="tagattribrequired">method=scroll 时有效</td><td class="tagattribformat">"left" 或者 "top" 或者 "right" 或者 "bottom"</td><td class="tagattribdesc">　卷动（scroll）过渡（transition）において、里页の图片がどの方向から現れてくるかを指定します。"left" = 左、"top"= 上、"right" = 右、"bottom" = 下</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="trans_stay" id="trans_stay">stay</a></td><td class="tagattribrequired">method=scroll 时有效</td><td class="tagattribformat">"stayfore" 或者 "stayback" 或者 "nostay"(默认)</td><td class="tagattribdesc">　卷动（scroll）切换过渡效果时、表页の图片がその場にとどまったまま、里页の图片が外部から卷动（scroll）してくるか ( "stayfore" )、<br />　表页の图片が卷动（scroll）して出ていく裏から、裏页の图片がその場にとどまったまま現れてくるか( "stayback" )、<br />　或者表页の图片と里页の图片が連結されて一緒に移動しながら切り替わっていくか ( "nostay" )、を指定します。</td></tr>
</tbody></table><div class="tagremarks">　指定した层で过渡（transition）を行います。<br />　过渡（transition）は、常に裏页の対象の层が、表页の対象の层に入れ替わる方向で行われます。<br />　过渡（transition）後は、表页の対象の层の图片、位置、サイズ、可視・不可視の状態は裏页の対象の层と同じになります。<br />　一般的に method=universal の过渡（transition）は、<a class="jump" href="#backlay">backlay</a> 指令で表页の情報を裏画面にコピーし、裏页に対して <a class="jump" href="#image">image</a> や <a class="jump" href="#layopt">layopt</a> 指令で层を操作し、この trans 指令を layer=base children=true で使用し、<a class="jump" href="#wt">wt</a> 指令で过渡（transition）の終了を待ちます。<br />　<a class="jump" href="#macro">macro</a> 指令でこの一連の操作を宏（macro）化しておくと便利かもしれません。<br />　过渡（transition）中は、文字表示ができなかったり、遅くなったりします。また、基本的に状態は「不定」なので、位置移動や表示・非表示の変更は过渡（transition）の終了を待ってからにしてください。<br />　通常は背景层に対して过渡（transition）を行わせますが、特殊な用途に使用する目的で前景层や消息层に対して個別にトランジションを行わせることができます。しかし、「裏页・面画面のその层のサイズは同一でなければならない」という制限があります。<br />　本当に特殊な用途 ( 一概に言えませんが ) に用いる以外は、layer には baseを指定してください。<br /><br />　この指令は、过渡（transition）の終了を待ちません。过渡（transition）の終了を待つには <a class="jump" href="#wt">wt</a> 指令を使用してください。<br /></div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
[backlay]<br />[image storage=fg0 layer=0 page=back]<br />[trans method=universal time=1500 rule=trans0 vague=64]<br />[wt]<br />
</code></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="unlocklink" id="unlocklink" class="targanchor"><span class="b">unlocklink</span> ( 选择支·按钮暂时无效化的解除 )</a></h1>
<div class="taggenre">消息层操作</div>
<div class="para"><div><div class="tagremarks">　すべての消息层の连接（link）のロックを解除します。<br />　连接（link）や按钮は、一回選択されると、再び新しい连接（link）や按钮が作成されるまで選択不能になります ( エディットやチェックボックスも操作不能になります ) が、それを強制的に再び選択可能にするためにこの指令があります。<br />　逆の動作をする <a class="jump" href="#locklink">locklink</a> 指令もあります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="unlocksnapshot" id="unlocksnapshot" class="targanchor"><span class="b">unlocksnapshot</span> ( 屏幕截图锁定解除 )</a></h1>
<div class="taggenre">书签·通过记录操作</div>
<div class="para"><div><div class="tagremarks">　<a class="jump" href="#locksnapshot">locksnapshot</a> でロックしたスナップショットのロックを解除します。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="video" id="video" class="targanchor"><span class="b">video</span> ( 影片/ SWF 画面显示范围指定 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ video (影片/ SWF 画面显示范围指定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="video_slot" id="video_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_visible" id="video_visible">visible</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　ビデオ/SWF の表示領域を表示するか ( true の場合 )、非表示にするか ( false の場合 ) を指定します。 非表示でもビデオ/SWFは再生できます ( 当然表示されません )。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_left" id="video_left">left</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">左端位置 ( pixel 単位 )</td><td class="tagattribdesc">　表示領域の左端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_top" id="video_top">top</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">上端位置 ( pixel 単位 )</td><td class="tagattribdesc">　表示領域の上端位置を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_width" id="video_width">width</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">幅 ( pixel 単位 )</td><td class="tagattribdesc">　表示領域の幅を指定します。現バージョンでは层描画模式（mode）では指定は無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_height" id="video_height">height</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">高さ ( pixel 単位 )</td><td class="tagattribdesc">　表示領域の高さを指定します。現バージョンでは层描画模式（mode）では指定は無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_loop" id="video_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false</td><td class="tagattribdesc">　循环を行いたい場合は true を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_position" id="video_position">position</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">时间 ( ms 単位 )</td><td class="tagattribdesc">　指定した时间までビデオの再生位置を移動したい場合に指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_frame" id="video_frame">frame</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">フレーム番号</td><td class="tagattribdesc">　指定した位置までビデオの再生位置を移動したい場合に指定します。<br />　position属性と違い、この属性ではフレーム単位で指定することができます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_mode" id="video_mode">mode</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"overlay" 或者 "layer"</td><td class="tagattribdesc">　ムービーの描画模式（mode）を指定します。<br />　"overlay" を指定するとオーバーレイ模式（mode）で再生できます。オーバーレイ模式（mode）ではビデオは他の层より奥になることはできませんが、再生負荷を軽くすることができます。<br />　"layer" を指定すると、层描画模式（mode）で再生できます。层描画模式（mode）では、ビデオの图片を层に表示できますが、再生負荷は "overlay" よりも高くなります。表示する层は <a class="jump" href="#videolayer">videolayer</a> 指令で設定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_playrate" id="video_playrate">playrate</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">再生速度(0.0より大きい値)</td><td class="tagattribdesc">　メディアの再生速度を設定します。<br />　設定可能値はDirectShowのフィルタによって決まります。<br />　参考 : 音声付のMPEG文件（file）の場合、0.0より大きい値から2.0までの値が設定可能です。音声なしのMPEG文件（file）の場合、0.0より大きい値からdoubleの範囲内(たぶん)で設定可能ですが、実際の再生速度は処理速度によって上限が決まります。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_volume" id="video_volume">volume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　音量を % で指定します。　100 が上限です。音量の抑制のみをサポートします(増幅は音源の特性上、できません)。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_pan" id="video_pan">pan</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">パン (-100〜0〜100)</td><td class="tagattribdesc">　パン (左右の音像位置) を指定します。<br />　-100 が完全な左、0 が中央、100 が完全な右です。<br />　真中の値は 0 で、これは両方のチャンネルがフルボリュームであることを意味しています。<br />　 一方のチャンネルが減衰されても、もう一方のチャンネルはフル ボリュームのままです。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="video_audiostreamnum" id="video_audiostreamnum">audiostreamnum</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音声ストリーム番号(0〜)</td><td class="tagattribdesc">　指定した音声ストリーム番号を有効にします。</td></tr>
</tbody></table><div class="tagremarks">　ビデオ/SWF表示領域の属性を指定します。<br />　ビデオ/SWF表示領域は默认で非表示なので、この指令で表示状態にしないと表示されません。<br />　オーバーレイ模式（mode）で表示される領域は层ではありません。すべての层よりも手前に表示されます。<br />　現バージョンではSWFは层描画模式（mode）による再生はできません。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="videoevent" id="videoevent" class="targanchor"><span class="b">videoevent</span> ( 影片事件 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ videoevent (影片事件) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="videoevent_slot" id="videoevent_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videoevent_frame" id="videoevent_frame">frame</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フレーム番号</td><td class="tagattribdesc">　ピリオドイベントを発生させるフレーム番号を指定します。</td></tr>
</tbody></table><div class="tagremarks">　指定したフレームでピリオドイベントを発生させることができます。<br />　ピリオドイベントは、<a class="jump" href="#wp">wp</a>指令で待つことができます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="videolayer" id="videolayer" class="targanchor"><span class="b">videolayer</span> ( 影片层设定 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ videolayer (影片层设定) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="videolayer_slot" id="videolayer_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videolayer_channel" id="videolayer_channel">channel</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">1 或者 2</td><td class="tagattribdesc">　层描画模式（mode）では、同時に二つのチャンネルでビデオを再生できます。<br />　slot属性は、同時に異なるビデオを再生したいときのためにあり、channel属性は、同じビデオを２つの层(たとえば、表层と裏层) で再生したいときのためにあります。<br />　この属性では、そのどちらのチャンネルに対しての层を設定するかを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videolayer_page" id="videolayer_page">page</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"fore" 或者 "back"</td><td class="tagattribdesc">　表页("fore")か、裏页("back")かを指定します。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videolayer_layer" id="videolayer_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">层番号(0〜)</td><td class="tagattribdesc">　表示したい层番号を指定します。</td></tr>
</tbody></table><div class="tagremarks">　层ー描画模式（mode）時に、ビデオの图片を表示させたい层を指定します。层サイズは、ビデオのサイズに自動的に変更されます。<br />　この設定を解除するには<a class="jump" href="#clearvideolayer">clearvideolayer</a>指令を使います。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="videosegloop" id="videosegloop" class="targanchor"><span class="b">videosegloop</span> ( 影片片段循环 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ videosegloop (影片片段循环) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="videosegloop_slot" id="videosegloop_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videosegloop_start" id="videosegloop_start">start</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フレーム番号</td><td class="tagattribdesc">　循环の始点を指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="videosegloop_end" id="videosegloop_end">end</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フレーム番号</td><td class="tagattribdesc">　循环の終点を指定します。</td></tr>
</tbody></table><div class="tagremarks">　start 属性と end 属性で示した区間内で循环再生を行います。<br />この指令は层ー描画模式（mode）時のみ有効です。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wa" id="wa" class="targanchor"><span class="b">wa</span> ( 等待动画停止 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wa (等待动画停止) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wa_layer" id="wa_layer">layer</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">"base" 或者 0 以上的整数</td><td class="tagattribdesc">　アニメーションの停止を待つする层を指定します。<br />"base" を指定すると 背景层、 0 以上的整数を指定すると、対応する前景层を表します。　指定した层には、アニメーション情報が読み込まれていないとなりません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wa_page" id="wa_page">page</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"back" 或者 "fore"</td><td class="tagattribdesc">　表(fore)画面を対象とするか、裏(back)画面を対象とするかを指定します。省略すると表页であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wa_seg" id="wa_seg">seg</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">0 或者正の整数</td><td class="tagattribdesc">　この属性で指定したセグメント番号のアニメーションの停止を待ちます。<br />　セグメント番号 0 も指定できます。</td></tr>
</tbody></table><div class="tagremarks">　任意のセグメントのアニメーションの停止を待ちます。<br />　アニメーションが停止するためには、asd 文件（file）上で s 指令か home 指令を通過する必要があります。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wait" id="wait" class="targanchor"><span class="b">wait</span> ( 等待一段时间 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wait (等待一段时间) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wait_time" id="wait_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">时间(毫秒)</td><td class="tagattribdesc">　ウェイトを毫秒で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wait_mode" id="wait_mode">mode</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"normal"(默认) 或者 "until"</td><td class="tagattribdesc">　ウェイトの方式を指定します。<br />　"normal" を指定するか、この属性を省略すると単に time で指定する时间だけ待つことになります。<br />　"until" を指定すると、<a class="jump" href="#resetwait">resetwait</a> 指令で設定した时间原点からの経過秒を time で指定したとみなし、指定した时间までを待ちます。すでに指定した时间を過ぎていた場合は待ちません。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wait_canskip" id="wait_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　このウェイトを、マウスのクリックやキーボードで快速略过（skip）できるかを指定します。false を指定すると、マウスのクリックやキーボードでは、このウェイトを快速略过（skip）できません。</td></tr>
</tbody></table><div class="tagremarks">　ウェイトを入れます。<br />　現在の时间からを待つ (mode="normal") か、あるいは <a class="jump" href="#resetwait">resetwait</a>指令で指定した时间原点からの时间を待つ (mode="until") ことができます。<br />　mode="until" の場合、すでに指定した时间を過ぎていた場合は kag.lastWaitTime という変数に 0 が入ります。ですので、[if exp="kag.lastWaitTime != 0"] のようにして判断すれば、「まだ指定した时间を過ぎていない場合」(多くの場合、処理が追いついている場合)かどうかを判断できます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="waitclick" id="waitclick" class="targanchor"><span class="b">waitclick</span> ( 等待玩家点击 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><div class="tagremarks">　クリックを待ちます。<br />　<a class="jump" href="#l">l</a> 指令や <a class="jump" href="#p">p</a> 指令と違うのは、快速略过（skip）できないことと、クリック待ち記号が表示されないということ、待っている間は栞を挟む/たどるや、そのほかの快速略过（skip）操作などができないなど、です。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="waittrig" id="waittrig" class="targanchor"><span class="b">waittrig</span> ( 等待直到条件满足 )</a></h1>
<div class="taggenre">变量·TJS 操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ waittrig (等待直到条件满足) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="waittrig_name" id="waittrig_name">name</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">トリガ名</td><td class="tagattribdesc">　待つトリガ名を指定します。　kag オブジェクト ( MainWindow クラス ) の trigger メソッドで引数に同名のトリガ名を指定することにより、トリガを発動し、待ち状態を解除することができます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="waittrig_canskip" id="waittrig_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定すると、クリックにより、待つ動作を快速略过（skip）することができます。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="waittrig_onskip" id="waittrig_onskip">onskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">TJS式</td><td class="tagattribdesc">　クリックにより快速略过（skip）されたときに実行する TJS式 を指定します。<br /></td></tr>
</tbody></table><div class="tagremarks">　TJS2 スクリプトが trigger メソッドを呼ぶのを待ちます。<br />　「トリガ」は イベント駆動型のプログラミングモデルで動作する KAG において、剧本進行をいったん停止し、なんらかの処理を待つために使われる機構です。<br />　この指令は、TJS2 スクリプトの処理が終わるのを待つのに使います。<br />　たとえばトリガ名 "click" は、マウスがクリックされたときに発動するトリガ ( これについては KAG 内部ですでに定義されているトリガ ) で、<span class="script">[waittrig name="click"]</span>と記述することによりマウスのクリックを待つことができます。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wb" id="wb" class="targanchor"><span class="b">wb</span> ( 等待 BGM 渐变结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wb (等待 BGM 渐变结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wb_canskip" id="wb_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定するとクリックでフェードの終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　BGM フェードを快速略过（skip）した場合は、音量は直ちにフェードの到達音量になります。</td></tr>
</tbody></table><div class="tagremarks">　BGM のフェードアウト・フェードインの終了を待ちます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wc" id="wc" class="targanchor"><span class="b">wc</span> ( 根据文字显示速度设定等待时间 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wc (根据文字显示速度设定等待时间) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wc_time" id="wc_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">文字数</td><td class="tagattribdesc">　ここで指定した文字数を表示するのと同じだけの时间を待ちます。 一文字に必要な时间は <a class="jump" href="#delay">delay</a> 指令で指定します。</td></tr>
</tbody></table><div class="tagremarks">　文字数分のウェイトを入れます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wf" id="wf" class="targanchor"><span class="b">wf</span> ( 等待音效播放结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wf (等待音效播放结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wf_buf" id="wf_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　フェードの終了を待つバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wf_canskip" id="wf_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定するとクリックでフェード終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clipskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　効果音フェードを快速略过（skip）した場合は、音量は直ちにフェードの到達音量になります。</td></tr>
</tbody></table><div class="tagremarks">　効果音のフェードアウト・フェードインの終了を待ちます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wl" id="wl" class="targanchor"><span class="b">wl</span> ( 等待 BGM 播放结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wl (等待 BGM 播放结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wl_canskip" id="wl_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定するとクリックで BGM 再生の終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　途中で再生終了待ちを快速略过（skip）した場合は、BGM は直ちに停止します。<br /></td></tr>
</tbody></table><div class="tagremarks">　BGM 再生の終了を待ちます。　BGM が繰り返し再生の場合は待ちません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wm" id="wm" class="targanchor"><span class="b">wm</span> ( 等待自动移动结束 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wm (等待自动移动结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wm_canskip" id="wm_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　true を指定するとクリックで自動移動の終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　途中で自動移動の終了待ちを快速略过（skip）した場合は、直ちに最終位置に移動します。<br /></td></tr>
</tbody></table><div class="tagremarks">　自動移動の終了を待ちます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wp" id="wp" class="targanchor"><span class="b">wp</span> ( 等待影片播放事件结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wp (等待影片播放事件结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wp_slot" id="wp_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wp_for" id="wp_for">for</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">"loop","period","prepare","segLoop"のいずれか</td><td class="tagattribdesc">　待つイベントの種類を指定します。<br />　"loop"を指定すると、循环終端を待ちます。<br />　"period"を指定すると、ピリオドイベントを待ちます。<br />　"prepare"を指定すると、preparevideoの準備完了を待ちます。<br />　"segLoop"を指定すると、セグメント循环終端を待ちます。<br /></td></tr>
</tbody></table><div class="tagremarks">ピリオドイベントを待ちます。<br />for属性が未指定の場合、すべてのイベントを待ち、いずれかが発生すると処理を継続します。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wq" id="wq" class="targanchor"><span class="b">wq</span> ( 等待画面震动效果结束 )</a></h1>
<div class="taggenre">系统操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wq (等待画面震动效果结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wq_canskip" id="wq_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　true を指定するとクリックで过渡（transition）の終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　途中で过渡（transition）終了待ちを快速略过（skip）した場合は、直ちに切り替わり後の状態に移行します。<br /></td></tr>
</tbody></table><div class="tagremarks">　<a class="jump" href="#quake">quake</a> 指令で開始した画面揺らしの終了を待ちます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="ws" id="ws" class="targanchor"><span class="b">ws</span> ( 等待音效播放结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ ws (等待音效播放结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="ws_buf" id="ws_buf">buf</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">効果音バッファ番号( 0(默认) 〜 )</td><td class="tagattribdesc">　再生終了を待つバッファを指定します。<br />　省略すると 0 であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="ws_canskip" id="ws_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　効果音再生をマウスのクリックで快速略过（skip）できるかを指定します。<br />　true を指定すると効果音再生をマウスのクリックで快速略过（skip）できるようになります。<br />　ただし <a class="jump" href="#clickskip">clipskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　また、快速略过（skip）されると効果音の再生も自動的に停止します。</td></tr>
</tbody></table><div class="tagremarks">　効果音再生の終了を待ちます。<br />　効果音が繰り返し再生の場合は待ちません。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wt" id="wt" class="targanchor"><span class="b">wt</span> ( 等待切换效果结束 )</a></h1>
<div class="taggenre">层操作</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wt (等待切换效果结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wt_canskip" id="wt_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　true を指定するとクリックで过渡（transition）の終了待ちを快速略过（skip）できます。<br />　false を指定すると快速略过（skip）できません。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　途中で过渡（transition）終了待ちを快速略过（skip）した場合は、直ちに切り替わり後の状態に移行します。<br /></td></tr>
</tbody></table><div class="tagremarks">　过渡（transition）の終了を待ちます。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="wv" id="wv" class="targanchor"><span class="b">wv</span> ( 等待影片播放结束 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ wv (等待影片播放结束) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="wv_slot" id="wv_slot">slot</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">ムービーオブジェクト番号(0〜)</td><td class="tagattribdesc">この操作を行うムービーオブジェクト番号を指定します。<br />省略すると 0 が指定されたと見なされます。<br />複数のムービーを同時に操作する場合は、Config.tjs の numMovies の値も、必要な個数に変更してください。<br /></td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="wv_canskip" id="wv_canskip">canskip</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true 或者 false(默认)</td><td class="tagattribdesc">　ビデオ再生をマウスのクリックで快速略过（skip）できるかを指定します。<br />　true を指定すると ビデオ再生をマウスのクリックで快速略过（skip）できるようになります。<br />　ただし <a class="jump" href="#clickskip">clickskip</a> 指令でクリック快速略过（skip）が禁止されているとこの快速略过（skip）もできないので注意してください。<br />　また、快速略过（skip）されると ビデオの再生も自動的に停止します。</td></tr>
</tbody></table><div class="tagremarks">　ビデオ再生の終了や、<a class="jump" href="#preparevideo">preparevideo</a> 指令による再生準備の完了、<a class="jump" href="#videoevent">videoevent</a> 指令によるピリオドイベントを待ちます。<br />　SWF(Sockwave Flash) の再生の終了を待つことはできません。<a class="jump" href="#wait">wait</a> タグ等で必要な时间を待つなどをして対処してください。<br /></div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>

<h1><a name="xchgbgm" id="xchgbgm" class="targanchor"><span class="b">xchgbgm</span> ( BGM 渐变切换 )</a></h1>
<div class="taggenre">音乐·音效·影片播放</div>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="タグ xchgbgm (BGM 渐变切换) 的属性一覧"><thead><tr><td>属性</td><td>必須?</td><td>値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="xchgbgm_storage" id="xchgbgm_storage">storage</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">BGM 文件（file）名</td><td class="tagattribdesc">　次に再生する BGM 文件（file）名或者 CD トラックを指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="xchgbgm_loop" id="xchgbgm_loop">loop</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">true(默认) 或者 false</td><td class="tagattribdesc">　BGM を循环するかを指定します。<br />　true を指定すると循环します。false を指定すると循环しません。<br />　省略すると true であると見なされます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="xchgbgm_time" id="xchgbgm_time">time</a></td><td class="tagattribrequired"><span class="tagrequiredattrib">yes</span></td><td class="tagattribformat">フェードを行っている时间 (毫秒为单位)</td><td class="tagattribdesc">　指定した时间で現在の曲のフェードアウトが行われた後、同じ时间で指定した曲のフェードインが行われます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="xchgbgm_overlap" id="xchgbgm_overlap">overlap</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">オーバーラップを行う时间(毫秒为单位)</td><td class="tagattribdesc">　overlap に时间を設定すると、その时间分、フェードアウトとフェードインの时间が重なります。省略すると 0 であると見なされます。クロスフェードを行うときに指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="xchgbgm_volume" id="xchgbgm_volume">volume</a></td><td class="tagattribrequired">no</td><td class="tagattribformat">音量% (0〜100)</td><td class="tagattribdesc">　次の曲のフェード後に到達させる BGM の音量を % で指定します。<br />　省略すると、次の曲の音量は現在の音量と同じになります。<br /></td></tr>
</tbody></table><div class="tagremarks">　BGM を入れ替えます。<br />　この指令を使う場合は、Config.tjs で doubleBuffered を true に設定してください。</div>
<div class="toindex"><a class="jump" href="#genre"><span class="toindexanchor">返回分类·指令一覧</span></a></div></div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body></html>
