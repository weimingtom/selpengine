<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from Diverge.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>选择支的使用</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id60" name="id60">标签的定义</a>
</h1><div class="para"><div>
　那么，在学习使用选择支之前，首先必须要对<a id="id61" name="id61" class="targanchor"><dfn>标签</dfn></a>进行说明。<br />
　如果要让玩家进行选择，就必须控制选择之后，跳跃到对应的剧本继续执行。这时候，控制这种跳转的标记，就是标签。<br />
<br />
　标签是行头标记有 * 符号的一行。到现在为止的范例中已经出现一些标签了。比如说・・・<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
<em>*start|开始</em><br />
[cm]<br />
你好。<br />
</code>
<br />

　像这样。这种情况下，这里就定义了这样一个标签 *start 。而 | (竖线) 以后的 &quot;|开始&quot; 代表什么意思，这点会在教程的其他部分 <span class="comlink"> ( → <a target="main" class="jump" href="SaveLoad.html">存储・读取</a> ) </span> 进行说明。| 后面不写东西也没有关系。<br />
<br />
　标签的名字可以随意指定，当然使用半角英文是绝对保险的。此外，标签名的话，请不要使用半角空格。（译注：使用中文也没有关系，我喜欢这点XDD）<br />
<br />
　标签的功能，除了标记剧本跳转的位置以外，也代表着存储・读取的位置。这里 | (竖线) 的功能也一起在其他部分里解释。<br />
</div></div>
<h1><a id="id62" name="id62">选择支的使用</a>
</h1><div class="para"><div>
　KAG 中，选择支的感觉接近“超级链接”。<br />
　要定义一个选项，需要用到 <a id="id63" name="id63" class="targanchor"><dfn>link</dfn></a> 和 <a id="id64" name="id64" class="targanchor"><dfn>endlink</dfn></a> 这样的指令。这两个指令中间夹着的文字，可以用鼠标或者键盘进行选择。单击鼠标、或者按下键盘的 Enter 键，将会跳转到对应选项 link 指令 target 属性指向的标签，继续执行。<br />
　还有，等待玩家选择，剧本段的末尾停止执行的时候，需要使用 <code class="inlinecode">[<a id="id65" name="id65" class="targanchor"><dfn>s</dfn></a>]</code> 指令。点下窗口菜单上的「前进到下一选择支」后，将会快进到下一个 <code class="inlinecode">[s]</code> 为止。<br />
　使用这些指令，就可以像下面的例子那样制作选择支了。target= 的后面 * (星号) 是必要的。还有，对应的标签的| (竖线) 以后的文字，在指定 target 属性时没有必要写上。<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[link&nbsp;target=*select1]选择支１[endlink][r]<br />
[link&nbsp;target=*select2]选择支２[endlink][r]<br />
[link&nbsp;target=*select3]选择支３[endlink][r]<br />
[s]</em><br />
<br />
*select1<br />
你选择了选择支１。[l]<br />
[s]<br />
<br />
*select2<br />
你选择了选择支２。[l]<br />
[s]<br />
<br />
*select3<br />
你选择了选择支３。[l]<br />
[s]<br />
</code>
<br />

　像上面这样实行的话，即使进行选择以后，选项也不会消失。<br />
　想要让选项在选择后消失的话，通常在跳转到的标签之后，使用 [cm] 指令。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
<em>[link&nbsp;target=*select1]选择支１[endlink][r]<br />
[link&nbsp;target=*select2]选择支２[endlink][r]<br />
[link&nbsp;target=*select3]选择支３[endlink][r]<br />
[s]</em><br />
<br />
*select1<br />
[cm]<br />
你选择了选择支１。。[l]<br />
[s]<br />
<br />
*select2<br />
[cm]<br />
你选择了选择支２。。[l]<br />
[s]<br />
<br />
*select3<br />
[cm]<br />
你选择了选择支３。。[l]<br />
[s]<br />
</code>
<br />

<br />
<br /><div class="descimg"><img src="../j/contents/Diverge.png" alt="../j/contents/Diverge.png" /><br />选择支范例</div><br /><br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
&nbsp;&nbsp;&nbsp;&nbsp;　选择支一旦被选择后，在新的选择支被定义前，或者使用<a id="id66" name="id66" class="targanchor"><dfn>unlocklink</dfn></a> 指令前，将无法再次选择。<br />
&nbsp;&nbsp;&nbsp;&nbsp;　还有，要想使当前画面上的可用选择支无效化的话，使用 <a id="id67" name="id67" class="targanchor"><dfn>locklink</dfn></a> 指令。<br />
&nbsp;&nbsp;&nbsp;&nbsp;　一般的情况下不用在意这些啦。<br />
</div><br />
</div></div>
<h1><a id="id68" name="id68">有２个以上剧本档的情况</a>
</h1><div class="para"><div>
　为管理方便，我想大家或许会使用到两个以上的剧本档，选择之后，想要跳转到其他剧本档执行的话，要怎么办呢？<br />
　答案很简单，利用 link 指令的 storage 属性。比如说，准备了一个名为 scn2.ks 的剧本档、里面有 *scn2start 这样一个标签・・・。<br />

<br />
<code class="bq">[link&nbsp;storage=&quot;scn2.ks&quot;&nbsp;target=*scn2start]scn2.ks&nbsp;的&nbsp;scn2start[endlink]<br />
</code>
<br />

<br />
这么写的话。在点下这个选择支之后，就会读入 scn2.ks 剧本档，跳跃到 *scn2start 这一标签。<br />
</div></div>
<h1><a id="id69" name="id69">其他非选择情况下进行剧本跳转相关</a>
</h1><div class="para"><div>
　不使用选择，单纯跳跃到其他剧本档/标签继续执行的话，使用 jump 指令。<br />
　还有， link 指令也拥有点击后执行 TJS ( 不通过KAG，吉里吉里能直接理解的脚本 ) 式的功能。（译注：使用 exp 属性，点击后先执行对应 exp ，再进行标签跳跃等）
　此外，<a id="id70" name="id70" class="targanchor"><dfn>button</dfn></a> 指令则是为不使用文字选项，改为点选图片的情况准备的。<br />
　具体请参照 <a target="main" class="jump" href="Tags.html">Reference</a> 。<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
