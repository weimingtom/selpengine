<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from HistoryOfStore.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>通过记录相关</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="åéåéç¸å³æ ååèæ ·å¼" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="é¦é¡µ" />
</head>
<body>
<h1><a id="id87" name="id87">通过记录</a>
</h1><div class="para"><div>
　当玩家点选菜单上的「系统 - 返回之前」后，可以返回上一个段落，通过记录就是指定这种自动存储位置的功能。<br />
<br />
　要使用通过记录功能，需要用到 record 指令、此外还要对 Config.tjs 的 <code class="inlinecode">recordHistoryOfStore</code> 进行设定。<br />
<br />
　「系统 - 返回之前」这一菜单选项默认是不显示的，但是可以在 Config.tjs 中将 <code class="inlinecode">goBackMenuItem.visible</code> 设定为 true ，即可显示。<br />
<br />
　此外、一直点选「系统 - 返回之前」的话，可以不断返回到更早的段落，允许返回的最大限度，请在 Config.tjs 的 <code class="inlinecode">maxHistoryOfStore</code> 里指定。假如指定的数值太大的话，会导致游戏存档的容量变得很大，这一点请注意。每个存档文件的通过记录是单独保存的。<br />
<br />
　顺便一说，「通过记录」和 Config.tjs 中的「标签记录」，这两者是完全不同的功能。<br />
</div></div>
<h1><a id="id88" name="id88">进行通过记录的时机</a>
</h1><div class="para"><div>
　使用 record 指令的话、就会记录这个时点的状态。此外、Config.tjs 的 <code class="inlinecode">recordHistoryOfStore</code> 设定为真的话，就会自动进行通过记录。<br />
　但是、record 指令的记录、还有 <code class="inlinecode">recordHistoryOfStore</code> 中所说的自动记录，都不是精确的记录点。确切的通过记录，是在执行到「可存档标签」的时候进行的 ( 这时候开始才可以使用「系统 - 返回之前」选项 )。因此真正记录的是「可存档标签」的位置，使用 「系统 - 返回之前」的话就会回到之前最近的一个允许保存标签那里。<br />
</div></div>
<h1><a id="id89" name="id89">record 指令书写的位置</a>
</h1><div class="para"><div>
　小规模的剧本档的话，可能直接设定 <code class="inlinecode">recordHistoryOfStore</code> ，自动进行通过记录会比较轻松。假如剧本档比较大，还是不要自动记录，在想记录的地方，手动加入 record 指令、自己定义返回的位置会比较好。<br />
<br />
　通过记录可以用在，例如有选择支的情况下，玩家使用菜单上的「系统 - 返回之前」，就可以回到上一个选择支的位置。<br />
<br />
　这种情况下，在等待选择的指令 [s] 标记之前，加入 record 指令就 OK 了。特别是有连续选择的情况，手动进行通过记录的话，玩起来更方便也说不定。<br />
<br />
　玩家选择了「系统 - 返回之前」、并且剧本中也有 record 指令，但并不会回到 record 所在的位置。而是会回到 record 指令之前最近的一个「可存档标签」的位置。<br />
<br />
　顺便一说、从某个「可存档标签」到下一个「可存档标签」中间，假如没有 l, p, s 等指令的话，在那里使用 record ，通过记录功能也不能使用。因为「系统 - 返回之前」必须是执行到 l, p, s 等等指令，在等待玩家点击的时候才可以用（安定中状态）。所以如果在没有 l, p, s 的剧本段落中进行了 record ，还是没办法返回 record 所在位置之前的那个标签。<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
